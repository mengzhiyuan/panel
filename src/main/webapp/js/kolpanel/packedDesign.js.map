{"version":3,"sources":["webpack:///webpack/bootstrap 9cb41d6306542b6468ef","webpack:///./unpacked/kolpanel/analyze.js","webpack:///./unpacked/kolpanel/createItem.js","webpack:///./unpacked/kolpanel/realPath.js","webpack:///./unpacked/kolpanel/setui.js","webpack:///./unpacked/kolpanel/template.js","webpack:///./unpacked/kolpanel/design.js"],"names":["func_analyse","surveyList","indexList","data","listSurvey","$","ajax","url","realPath","type","dataType","contentType","JSON","stringify","email","sessionStorage","getItem","async","success","object","result","select_survey","empty","i","l","length","push","wjId","title","append","slice","error","d1","d2","d3","console","log","packData","e","survey","target","val","d","ops","datas","itemId","itemType","itemIndex","parse","itemContent","warnNoResult","warnConnectedFailed","updateFormWithType","find","attr","forms","table","bar","line","pie","css","build","select","form","surveyId","item","emptyArea","drawTableForChoice","drawTableForBlank","drawTableForMatrix","drawTableForSort","drawBarsForChoice","drawPiesForChoice","bind","html","it","t","an","index","options","mapData","number","total","sum","tbody","o","op","toFixed","sub_questions","map","thead","ttop","counts","count","value","sub_question","r","s","opRow","sb","q","scores","Array","n","sbq","percent","eCount","ePercent","c","option","text","tooltip","xAxis","yAxis","series","myChart","echarts","init","setOption","name","radius","drawLineForChoice","trigger","axisPointer","toolbox","show","feature","saveAsImage","boundaryGap","snap","smooth","couse","k","window","warn_no_resulut","document","createElement","warnRender","warn_connected_failed","obj","str","getSize","fadeIn","warnDisappear","setTimeout","fadeOut","warnRemove","remove","drawBarsForMatrix","innerWidth","innerHeight","on","createQuestion","char","split","drawQuestion","createMatrixQuestion","row","col","c0","c1","parents","c2","createMessage","drawMessage","nor","noc","createNode","actived","questions","active","message","editing","ordericon","sex","age","telephone","company","job","industry","address","highschool","education","department","hospitallevel","titlelevel","required","description","depend","createMessageVue","node","addClass","createDetail","id","thisObj","itemKey","theClass","words_restrict","min","max","suffix","Number","need","jump","quote","relate","evaluate","optionId","fillable","score","prefix","time","date","createVue","funcs","moveUp","insertBefore","previousSibling","subtrahend","pr","t_index","p_index","m_index","moveDown","insertAfter","nextSibling","nt","n_index","edit","deleteQ","idToDelete","errorCode","logic","qNow","model","inner","hasClass","createJumpBox","jumpBox","targets","jumpBoxs","each","prototype","indexOf","call","closeJump","self","s_relate_question","s_depend_question","s_depend_option","changeDependOption","originalEvent","currentTarget","dependBox","dependQuestion","txt","siblings","closeDepend","pickeds","ar","pickDepends","prop","updateDependOption","s_quote_question","s_evaluate_question","changeEvaluate","thisOption","matches","logics","parent","nodes","save","singleQ","singeTitle","designNow","setItem","cancel","editTitle","editRequired","removeClass","editDescription","deleteOption","editOption","editSuffix","editFillable","insertOption","heightNow","$el","offsetHeight","scrollToDem","check","icon","changeForm","changeClass","deleteSubQuestion","stq","dragPrefix","event","start_coordinates","x","clientX","y","clientY","spread","edge","bottom","top","divide","dragRow","move_coordinates","vector","height","endDrag","animate","off","editPrefix","insertSubQuestion","editSubQuestion","toggleHour","splice","toggleMinute","toggleSecond","toggleYear","toggleMonth","toggleDate","mark","editScore","scrollTo","$r","scrollTopNow","scrollTop","el","vues","Vue","methods","module","exports","curWwwPath","location","href","pathName","pathname","pos","localhostPath","substring","projectName","substr","renderCollectControl","sets","total_top","total_bottom","time_question","restrict","time_survey","clientOnly","disposableForClient","disposableForIp","disposableForDevice","passwordNeeded","verificationCodeNeeded","allocations","question_list","summary_top","summary_bottom","allocate_top","allocate_bottom","collected","allocatings","question_id","question_title","sum_top","sum_bottom","allocate_option","op_index","allocation_top","percent_top","allocation_bottom","percent_bottom","allocation_cross","conditionString","percent_average","setsV","updateTotalTop","parseInt","updateTotalBottom","renderAllocateControl","allocationV","updateSummaryBottom","updateSummaryTop","findTP","p","findTPG","g","selectQuestion","selectOption","editAllocationBottom","Math","round","editAllocationTop","insertAllocation","deleteAllocation","insertTable","scrollIntoView","mounted","v","moveToEnd","that","all","range","selection","createRange","moveStart","getSelection","getRangeAt","offset","startOffset","middlePostion","preventDefault","childNodes","startContainer","container","arr","join","focus","setStart","editExpression","keysFuncs","keyCode","ctrlKey","a","altKey","m","metaKey","shiftKey","hide","test","chooseQuestion","match","chooseAnswer","openBracket","closeBracket","insertAnd","insertOr","insertNot","pickQuestion","itemid","pickAnswer","insertRelation","createTextNode","editEdge","cls","className","al","precent_average","insertCondition","prepareForProgressControl","surveyName","fillOptions","prepareForQualityControl","ql","renderProgressControl","displayProgress","progressSumVue","progressCrossVue","renderQualityControl","arrangeQuestion","top_label","width","supposedWidth","fillAnswers","result_list","main","programmingTable","marginLeft","marginTop","scroll","currentScrollTop","currentScrollLeft","scrollLeft","answers","component","props","template","$emit","sort","$eimt","spreadMenu","$menuBox","$left","wi","hi","listQuestion","packUp","submit","box","list","qs","order","skipToItem","wrap","contenteditableToggle","fixQ","vd","replace","confirmFix","blur","clearHolder","h","fillHolder","switchProcess","left","analysis","setUi","switchBars","set_ui","is","drawMatrix","createMatrix","cleanDrawMatrix","changeChecks","pickColor","cleanData","details","titles","subtitle","style","color","error_code","warnSuccess","warnFailed","warn_success","warn_failed","quickEdit","thisVue","quickSave","confirmClose","returnValue","clearSession","removeItem","invalidResult","afterBlur","invalidSubmit","right","reason","sitId","sitDescribe","results","resultId","availability","excuteSubmit","listParse","json","discribe","wjQuestion","setting","compare","propertyName","object1","object2","value1","value2","sorting","items"],"mappings":"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","file":"packedDesign.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9cb41d6306542b6468ef","/**\n * Created by wangxiangyang on 2017/9/27.\n */\n\n//var curWwwPath=window.document.location.href;\n//var pathName=window.document.location.pathname;\n//var pos=curWwwPath.indexOf(pathName);\n//var localhostPath=curWwwPath.substring(0,pos);\n//var projectName=pathName.substring(0,pathName.substr(1).indexOf('/')+1);\n//var realPath=localhostPath+projectName;\n\n//$(function(){\n\n    var func_analyse = {\n\n        surveyList :[],\n        indexList: [],\n        data: [],\n\n        //接收用户名下所有问卷\n        listSurvey: function(){\n\n            $.ajax({\n                url: realPath + '/questionnaire/searchWjTitle',\n                type : \"post\",\n                dataType : \"json\",\n                contentType : \"application/JSON;charset=utf-8\",\n                data : JSON.stringify({\n                    email: sessionStorage.getItem('surveyName')\n                }),\n                async : true,\n                success : function(data) {\n                    var object = data[0].result,\n                        select_survey = $('#select_survey');\n\n                    select_survey.empty('option:not(:first-child)');\n                    this.surveyList = [];\n\n                    for(var i= 0,l = object.length;i<l;i++){\n                        this.surveyList.push({wjId: object[i].wjId, title: object[i].title});\n                        if (!object[i].title){\n                        \tobject[i].title = '';\n                        }\n                        select_survey.append('<option value=\"'+ object[i].wjId +'\">'+ object[i].wjId + '. ' + object[i].title.slice(0,10) +'...</option>')\n                    }\n\n                },\n                error : function(d1, d2, d3) {\n                    console.log(d1);\n                    console.log(d2);\n                    console.log(d3);\n                }\n            })\n        },\n\n        //整理数据,加载到左侧select中待选择\n        packData: function(e){\n\n            $.ajax({\n\n                url: realPath + \"/questionnaire/SearchwjQuestion\",\n                type: 'post',\n                contentType: 'application/json;charset=utf-8',\n                dataType: 'json',\n                async: true,\n                data: JSON.stringify({\n                    survey: $(e.target).val()\n                }),\n                success: function(d){\n                    if (d[0].result){\n\n                        let data = d[0]['result'],\n                            ops = '';\n\n                        this.datas = data;\n\n                        for (let i in data){\n                        \t\n//                        \tif (!data[i].title){\n//                            \tdata[i].title = '';\n//                            }\n                            ops += '<option value=\"'+ data[i].itemId +'\" type=\"'+ data[i].itemType +'\">'+ data[i].itemIndex + '. ' + JSON.parse(data[i].itemContent)[0].title.slice(0,10) +'...</option>'\n                        }\n                        $('#select_item').empty('option:not(:first-child)').append(ops)\n\n                    } else {\n\n                        this.warnNoResult()\n                    }\n                },\n                error: function(d){\n\n                    this.warnConnectedFailed()\n                }\n            });\n        },\n\n        //当选中不同的item时,下面的待选分析方式随之变化\n        updateFormWithType: function(e){\n\n            var type = $('#select_item').find('option:selected').attr('type'),\n                forms = $('#select_form'),\n                table = forms.find('.table'),\n                bar = forms.find('.bar'),\n                line = forms.find('.line'),\n                pie = forms.find('.pie');\n\n            forms.find('option:not(:first-child)').css('display', 'none');\n\n            if (type === 'choice' || type === 'checks' || type === 'score'){\n                table.css('display', 'inline-block');\n                bar.css('display', 'inline-block');\n                //line.css('display', 'inline-block');\n                pie.css('display', 'inline-block');\n            } else if (type === 'blank' || type === 'matrix' || type === 'sort'){\n                table.css('display', 'inline-block');\n            }\n        },\n\n        //准备绘制图表\n        build: function(e){\n\n            var select = $('#select_item'),\n                itemId = select.val(),\n                type = select.find('option:selected').attr('type'),\n                form = $('#select_form').val();\n\n            if (!form) form = 'table';\n\n            $.ajax({\n                url : realPath + \"/questionnaire/dataAnalysis\",\n                type : \"post\",\n                dataType : \"json\",\n                contentType : \"application/JSON;charset=utf-8\",\n                async : true,\n                data : JSON.stringify({\n                    surveyId: $('#select_item').val()\n                }),\n                success : function(data) {\n\n                    var item = data[0];\n//                    \tthis = func_\n\n                    if (!itemId) return false;\n\n                    switch (form){\n\n                        case 'table':\n\n                            if (type === 'choice' || type === 'checks' || type === 'score'){\n                                this.emptyArea();\n                                this.drawTableForChoice(item, type)\n                            } else if (type === 'blank') {\n                                this.emptyArea();\n                                this.drawTableForBlank(item, type)\n                            } else if (type === 'matrix'){\n                                this.emptyArea();\n                                this.drawTableForMatrix(item, type)\n                            } else {\n                                this.emptyArea();\n                                this.drawTableForSort(item, type)\n                            }\n                            break;\n\n                        case 'bar':\n                            this.emptyArea();\n                            this.drawBarsForChoice(item, type);\n                            break;\n\n                        case 'pie':\n                            this.emptyArea();\n                            this.drawPiesForChoice(item, type);\n                            break;\n                    }\n                }.bind(this),\n                error : function(d1, d2, d3) {\n                    console.log(d1);\n                    console.log(d2);\n                    console.log(d3);\n                }\n            });\n        },\n\n        //清空右侧区域\n        emptyArea: function(){\n\n            $('#tables').find('.table').empty().html(`<div id=\"an\" class=\"main\"></div>`)\n        },\n\n        //给选择题||打分题绘制表格\n        drawTableForChoice: function(it, t){\n\n\n            var an = $('#an'),\n                title = it.title || '',\n                index = it.itemIndex,\n                options = it.mapData,\n                number = it.number,\n                total = it.total,\n                sum = 0,\n                table = $(`\n                    <table>\n                        <thead>\n                        <tr>\n                            <th></th><th>频数</th><th>频率</th><th>有效频数</th><th>有效频率</th>\n                        </tr>\n                        </thead>\n                    </table>\n                `),\n                tbody = $(`<tbody></tbody>`),\n                type = '';\n\n            for (let o in options){\n                sum += options[o]\n            }\n\n            switch (t){\n\n                case 'choice':\n                    type = '单选题';\n                    break;\n                case 'checks':\n                    type = '多选题';\n                    break;\n                case 'score':\n                    type = '评分题';\n                    break;\n            }\n\n            table.append(tbody);\n\n            for (let o in options){\n\n                let op = options[o];\n\n                tbody.append(`\n                    <tr>\n                        <td>`+ o +`</td>\n                        <td>`+ op +`</td>\n                        <td>`+ (op / sum).toFixed(2) * 100 +`%</td>\n                        <td>`+ op +`</td>\n                        <td>`+ (op / total).toFixed(2) * 100 + `%</td>\n                    </tr>\n                `)\n            }\n\n            an.append(`<div class=\"title\">`+ index + `.` + title + `[` + type + `]</div>`);\n            an.append(table);\n        },\n\n        //给填空题绘制表格\n        drawTableForBlank: function(it, t){\n\n            var an = $('#an'),\n                title = it.title,\n                index = it.itemIndex,\n                options = it.options,\n                number = it.number,\n                total = it.total,\n                sum = 0,\n                table = $(`\n                    <table>\n                        <thead>\n                        <tr>\n                            <th></th><th>频数</th><th>频率</th><th>有效频数</th><th>有效频率</th>\n                        </tr>\n                        </thead>\n                    </table>\n                `),\n                tbody = $(`<tbody></tbody>`),\n                type = '填空题';\n\n            for (let o in options){\n                sum += options[o]\n            }\n\n            table.append(tbody);\n\n            for (let o in options){\n\n                let op = options[o];\n\n                tbody.append(`\n                    <tr>\n                        <td>`+ o +`</td>\n                        <td>`+ op +`</td>\n                        <td>`+ (op / sum).toFixed(2) * 100 +`%</td>\n                        <td>`+ op +`</td>\n                        <td>`+ (op / total).toFixed(2) * 100 + `%</td>\n                    </tr>\n                `)\n            }\n\n            an.append(`<div class=\"title\">`+ index + `.` + title + `[` + type + `]</div>`);\n            an.append(table);\n        },\n\n        //给矩阵题绘制表格\n        drawTableForMatrix: function(it, t){\n\n            var an = $('#an'),\n                title = it.title,\n                index = it.itemIndex,\n                sub_questions = it.sub_questions,\n                options = it.options,\n                map = it.mapData,\n                number = it.number,\n                total = it.total,\n                sum = 0,\n                table = $(`\n                    <table>\n                        <thead>\n                        </thead>\n                    </table>\n                `),\n                thead = $(`<tr></tr>`),\n                ttop = $(`<tr></tr>`),\n                tbody = $(`<tbody></tbody>`),\n                type = '矩阵题';\n\n\n            //整理数据\n            var datas = {},\n                counts = [];\n\n            for (let o in sub_questions){\n                counts.push({\n                    title: sub_questions[o],\n                    count: 0\n                })\n            }\n\n            for (let o in options){\n                datas[o] = {\n                    value: options[o],\n                    sub_question: counts.slice(0)\n                }\n            }\n\n            for (let o in datas){\n\n                var value = datas[o].value;\n\n                for (let i in datas[o].sub_question){\n\n                    var title = datas[o].sub_question[i].title;\n\n                    for (let r in map){\n\n                        if (map[r].value === value && map[r].sub_questions['title'] === title){\n\n                            datas[o].sub_question.count = map[r].sub_questions['count'];\n\n                            sum += map[r].sub_questions['count'];\n                        }\n                    }\n                }\n            }\n\n            thead.append(`<th></th>`);\n            tbody.append(ttop);\n\n            for (let s in sub_questions){\n\n                thead.append(`<th colspan=\"4\">`+ s +`</th>`);\n                ttop.append(`<td>频数</td><td>频率</td><td>有效频数</td><td>有效频率</td>`)\n            }\n\n            for (let o in datas){\n\n                let op = datas[o],\n                    opRow = $(`<tr></tr>`);\n\n                opRow.append(`<td>`+ op.value +`</td>`);\n\n                for (let sb in op[sub_questions]){\n\n                    let q = op[sub_questions][sb];\n\n                    opRow.append(`<td>`+ q.count +`</td><td>`+ (q.count / sum).toFixed(2) * 100 +`%</td><td>`+ q.count +`</td><td>`+ (q.count / total).toFixed(2) * 100 +`%</td>`)\n                }\n                tbody.append(opRow)\n            }\n            table.append(tbody);\n            an.append(`<div class=\"title\">`+ index + `.` + title + `[` + type + `]</div>`);\n            an.append(table);\n        },\n\n        //给排序题绘制表格\n        drawTableForSort: function(it, t){\n\n            var an = $('#an'),\n                title = it.title,\n                index = it.itemIndex,\n                options = it.options,\n                scores = new Array(options.length),\n                table = $(`\n                    <table>\n                        <thead>\n                        </thead>\n                    </table>\n                `),\n                thead = $(`<tr></tr>`),\n                ttop = $(`<tr></tr>`),\n                tbody = $(`<tbody></tbody>`),\n                type = '矩阵题';\n\n            thead.append(`<th></th>`);\n            tbody.append(ttop);\n\n            for (let n= 0,l=scores.length; n < l; n++){\n                scores[n] = n + 1\n            }\n\n            for (let s in scores){\n\n                let sbq = scores[s];\n\n                thead.append(`<th colspan=\"2\">`+ sbq.title +`</th>`);\n                ttop.append(`<th>频数</th><th>频率</th>`)\n            }\n\n            for (let o in options){\n\n                let op = options[o],\n                    opRow = $(`<tr></tr>`);\n\n                opRow.append(`<td>`+ op.value +`</td>`);\n\n                for (let sb in options[scores]){\n\n                    let q = options[scores][sb];\n\n                    opRow.append(`<td>`+ q.count +`</td><td>`+ q.percent +`</td><td>`+ q.eCount +`</td><td>`+ q.ePercent +`</td>`)\n                }\n                tbody.append(opRow)\n            }\n\n            table.append(tbody);\n            an.append(`<div class=\"title\">`+ index + `.` + title + `[` + type + `]</div>`);\n            an.append(table);\n        },\n\n        //为选择题&填空题&评分题绘制柱状图\n        drawBarsForChoice: function(an,d){\n\n            var options = [],\n                counts = {\n                    type: 'bar',\n                    data: []\n                };\n\n            //从返回数据中取出本题每个选项的值和统计数量\n            for (let o in an.mapData){\n\n                var c = an.mapData[o];\n                \n                options.push(o);\n                counts.data.push(c)\n            }\n\n            //构成echart选项\n            let option = {\n                title: {\n                    text: an.itemIndex + '. ' + an.title\n                },\n                tooltip: {},\n                xAxis: {\n                    data: options\n                },\n                yAxis:{},\n                series: [counts]\n            };\n            //绘制echart\n            let myChart = echarts.init($('#an')[0]);\n            myChart.setOption(option);\n        },\n\n        //为选择题&填空题&评分题绘制饼状图\n        drawPiesForChoice: function(an,d){\n\n            //构造echart需要的选项\n            var option = {\n                name: an.itemIndex + '. ' + an.title,\n                type: 'pie',\n                radius: '55%',\n                data: []\n            };\n\n            //向选项中填空数据\n            for (let o in an.mapData){\n\n                var c = an.mapData[o];\n                \n                option.data.push({\n                    value: c,\n                    name: o\n                })\n            }\n            //绘制echart\n            let myChart = echarts.init($('#an')[0]);\n            myChart.setOption({\n                series: [option]\n            })\n        },\n\n        //为选择题&填空题&评分题绘制线形图\n        drawLineForChoice: function(an,d){\n\n            //构造echart需要的选项\n            var option = {\n                title: {\n                    text: d.itemIndex + d.title\n                },\n                tooltip: {\n                    trigger: 'axis',\n                    axisPointer: {\n                        type: 'cross'\n                    }\n                },\n                toolbox: {\n                    show: true,\n                    feature: {\n                        saveAsImage: {}\n                    }\n                },\n                xAxis:  {\n                    type: 'category',\n                    boundaryGap: false,\n                    data: []\n                },\n                yAxis: {\n                    type: 'value',\n                    axisPointer: {\n                        snap: true\n                    }\n                },\n                series: [\n                    {\n                        name:'用电量',\n                        type:'line',\n                        smooth: true,\n                        data: []\n                    }\n                ]\n            };\n\n            //向选项中填空数据\n            for (let o in d.couse){\n\n                var c = d.couse[o];\n\n                for (let k in c){\n                    option.xAxis.data.push(k);\n                    option.series[o].data.push(c[k]);\n                }\n            }\n            //绘制echart\n            let myChart = echarts.init(an);\n            myChart.setOption(option)\n        },\n\n        //请求无结果的警告\n        warnNoResult: function(){\n\n            window.warn_no_resulut = $(document.createElement('div'));\n\n            this.warnRender(warn_no_resulut, '暂无数据')\n        },\n\n        //连接失败的警告\n        warnConnectedFailed: function(){\n\n            window.warn_connected_failed = $(document.createElement('div'));\n\n            this.warnRender(warn_connected_failed, '请求失败,请稍后再试')\n        },\n\n        //警告渲染\n        warnRender: function(obj,str){\n\n            obj.text(str);\n\n            var l = (str.length * 1.2 + 4) + 'rem';\n\n            obj.css('width', l);\n\n            obj.css('position','fixed');\n            obj.css('left',this.getSize()[0] / 2 - 60 + 'px');\n            obj.css('top',this.getSize()[0] / 2 - 15 + 'px');\n            obj.css('display','none');\n            obj.css('height','30px');\n            obj.css('background-color','rgba(255,250,240,0.7)');\n            obj.css('box-shadow','0 0 1px 0 #c9c9c9');\n            obj.css('outline','1px solid #d9d9d9');\n            obj.css('outline-offset','-3px');\n            obj.css('text-align','center');\n            obj.css('font-size','1.2rem');\n            obj.css('line-height','30px');\n            obj.css('z-index','1200');\n\n            $('#survey_container').append(obj);\n            obj.fadeIn(700);\n\n            var warnDisappear = setTimeout(function(){\n                obj.fadeOut(500, function(){\n                    var warnRemove = setTimeout(function(){\n                        obj.remove();\n                        obj = null\n                    },700)\n                });\n            }, 3000)\n        },\n\n        //为矩阵题&排序题绘制柱状图\n        drawBarsForMatrix: function(an,d){\n\n            //var option = {\n            //    title: {\n            //        text: 'ECharts 入门示例'\n            //    },\n            //    tooltip: {},\n            //\n            //    xAxis: {\n            //        data: ['价格','搜索量','进货量']\n            //    },\n            //    yAxis: {},\n            //    series: [{\n            //        name: '衬衫',\n            //        type: 'bar',\n            //        data: [30, 5, 36]\n            //    }, {\n            //        name: '羊毛衫',\n            //        type: 'bar',\n            //        data: [5, 15, 45]\n            //    }, {\n            //        name: '雪纺衫',\n            //        type: 'bar',\n            //        data: [10, 30, 6]\n            //    }, {\n            //        name: '裤子',\n            //        type: 'bar',\n            //        data: [9, 20, 36]\n            //    }, {\n            //        name: '高跟鞋',\n            //        type: 'bar',\n            //        data: [15, 40, 26]\n            //    }, {\n            //        name: '袜子',\n            //        type: 'bar',\n            //        data: [40, 20, 16]\n            //    }]\n            //};\n        },\n\n        //取得当前浏览器的尺寸\n        getSize: function(){\n\n            return(\n                [window.innerWidth,window.innerHeight]\n            )\n        }\n    };\n\n    //向后台进行请求,如果有收集收的数据,刚进行下一步,否则提示用户尚未收集到数据\n    func_analyse.listSurvey.bind(func_analyse)();\n\n\n\n    $('#select_survey').on('change', func_analyse.packData.bind(func_analyse));\n    $('#select_item').on('change', func_analyse.updateFormWithType.bind(func_analyse));\n    $('#build').on('click', func_analyse.build.bind(func_analyse));\n//}());\n\n\n// WEBPACK FOOTER //\n// ./unpacked/kolpanel/analyze.js","/**\n * Created by wangxiangyang on 2017/10/19.\n */\n\n\n//存储创建历史列表\nvar total = 0;\n//区别将要创建的题目类型\n\n//普通题型\nfunction createQuestion(e){\n\n    var char = $(this).attr('char').split(' ');\n\n    drawQuestion(char[0],char[1],char[2])\n}\n\n//矩阵题型\nfunction createMatrixQuestion(e){\n\n    var row = window.row,\n        col = window.col,\n\n        c0 = 'matrix',\n        c1 = $(this).parents('.sub_label').attr('char'),\n        c2 = [row,col];\n\n    drawQuestion(c0,c1,c2)\n}\n\n//快速题型\nfunction createMessage(e){\n\n    var type = $(e.target).attr('class').split(' ');\n\n    //$('input[name=\"messages\"]').each(function(){\n    //\n    //    if ($(this).prop('checked') === true){\n    //\n    //        type.push($(this).val())\n    //    }\n    //});\n    drawMessage(type)\n}\n\n//渲染题目\nfunction drawQuestion(c0,c1,c2,item){\n\n    var type = c0,\n        form = c1;\n\n    if (type === 'matrix'){\n\n        if (!item){\n            var nor = c2[0],\n                noc = c2[1];\n        }\n    } else if (form === 'row' || form === 'col'){\n\n        var noc = c2;\n    }\n\n    createNode(type,form,noc,nor || item)\n}\n\n//渲染快速题型+创建节点\nfunction drawMessage(type){\n\n    let actived = 0;\n\n    for (let i = 0,l = questions.length; i < l; i++){\n\n        if (questions[i].active === true){\n\n            actived++\n        }\n    }\n    var message = $(document.createElement('message'));\n\n    message.attr('id','q' + (total + 1));\n    message.attr(':index','index');\n    message.attr(':editing', 'editing');\n    message.attr(':required', 'required');\n    message.attr(':ordericon','ordericon');\n    message.attr(':item_id','itemId');\n    message.attr(':title', 'title');\n    message.attr(':type','type');\n    message.attr(':description','description');\n    message.attr(':depend','depend');\n\n    message.attr('v-on:move_up','moveUp');\n    message.attr('v-on:move_down','moveDown');\n    message.attr('v-on:edit','edit');\n    message.attr('v-on:save','save');\n    message.attr('v-on:delete_q','deleteQ');\n    message.attr('v-on:logic','logic');\n    message.attr('v-on:edit_title', 'editTitle');\n    message.attr('v-on:edit_description', 'editDescription');\n    message.attr('v-on:check','check');\n\n    $('#survey_container').append(message);\n\n    var obj = {\n        itemId: total + 1,\n        index: actived + 1,\n        editing: false,\n        ordericon: '',\n        title: {\n            name:'请输入您的姓名',\n            sex: '请选择你的性别',\n            age: '请输入您的年龄',\n            telephone: '请输入您的联系电话',\n            email: '请输入您的电子邮箱',\n            company: '请输入您的工作单位',\n            job: '请输入您的工作职位',\n            industry: '请输入您所属的行业',\n            address: '请输入您的通讯地址',\n            highschool: '请输入您的毕业院校',\n            education: '请输入最高学历',\n            department: '请输入您所在的科室',\n            hospitallevel: '请输入您所在医院的级别',\n            titlelevel: '请输入您当年的职称级别'\n        },\n        required: true,\n        type: type,\n        form: 'single',\n        description: '',\n        depend: {}\n    };\n    questions.push(obj);\n\n    createMessageVue(obj)\n}\n\n//创建元素节点\nfunction createNode(type,form,noc,nor){\n\n    var node = $(document.createElement('node'));\n\n    //赋属性值\n    node.attr('id','q' + (total + 1));\n    node.attr(':index','index');\n    node.attr(':ordericon','ordericon');\n    node.attr(':item_id','itemId');\n    node.attr(':type','type');\n    node.attr(':form','form');\n    node.attr(':title','title');\n    node.attr(':description','description');\n    node.attr(':required','required');\n    node.attr(':editing','editing');\n    node.attr(':options','options');\n    node.attr(':words_restrict','words_restrict');\n    node.attr(':suffix', 'suffix');\n    node.attr(':sub_questions','sub_questions');\n    node.attr(':need','need');\n    node.attr(':jump','jump');\n    node.attr(':depend','depend');\n    node.attr(':quote','quote');\n    node.attr(':relate','relate');\n    node.attr(':evaluate','evaluate');\n    node.attr(':the_class','theClass');\n\n    //赋予方法属性\n    node.attr('v-on:move_up','moveUp');\n    node.attr('v-on:move_down','moveDown');\n    node.attr('v-on:edit','edit');\n    node.attr('v-on:delete_q','deleteQ');\n    node.attr('v-on:logic','logic');\n    node.attr('v-on:save','save');\n    node.attr('v-on:cancel','cancel');\n    node.attr('v-on:edit_title','editTitle');\n    node.attr('v-on:edit_required','editRequired');\n    node.attr('v-on:edit_description','editDescription');\n    node.attr('v-on:delete_option','deleteOption');\n    node.attr('v-on:edit_option','editOption');\n    node.attr('v-on:edit_suffix', 'editSuffix');\n    node.attr('v-on:edit_fillable','editFillable');\n    node.attr('v-on:insert_option','insertOption');\n    node.attr('v-on:check','check');\n    node.attr('v-on:change_form','changeForm');\n    node.attr('v-on:change_class','changeClass');\n    node.attr('v-on:delete_sub_question','deleteSubQuestion');\n    node.attr('v-on:drag_prefix','dragPrefix');\n    node.attr('v-on:edit_prefix','editPrefix');\n    node.attr('v-on:insert_sub_question','insertSubQuestion');\n    node.attr('v-on:edit_sub_question','editSubQuestion');\n\n    //填空题特殊方法\n    node.attr('v-on:toggle_hour','toggleHour');\n    node.attr('v-on:toggle_minute','toggleMinute');\n    node.attr('v-on:toggle_second','toggleSecond');\n    node.attr('v-on:toggle_year','toggleYear');\n    node.attr('v-on:toggle_month','toggleMonth');\n    node.attr('v-on:toggle_date','toggleDate');\n\n    //评分题特殊方法\n    node.attr('v-on:mark','mark');\n    node.attr('v-on:edit_score','editScore');\n\n    if (type === 'choice' || type === 'checks'){\n\n        node.addClass('form-' + form + 's');\n\n        if (form === 'row'){\n\n            node.addClass('rows-' + noc)\n        }\n    }\n    $('#survey_container').append(node);\n\n    let actived = 0;\n\n    for (let i = 0,l = questions.length; i < l; i++){\n\n        if (questions[i].active === true){\n\n            actived++\n        }\n    }\n\n    createDetail(total + 1, actived + 1,type,form,noc,nor)\n}\n\n//创建Vue属性对象\nfunction createDetail(id,index,type,form,noc,nor){\n\n    if (typeof nor !== 'object'){\n        var thisObj = {\n\n            active: true,\n            itemId: id,\n            itemKey: null,\n            index: index,\n            ordericon: '',\n            type: type,\n            form: form,\n            theClass: 'single',\n            title: '',\n            description: '',\n            words_restrict: {\n                min: '',\n                max: ''\n            },\n            suffix: '',\n            required: true,\n            editing: true,\n            options: {},\n            col: noc instanceof Number ? noc : '',\n            sub_questions: {},\n            need:{},\n            jump: {},\n            depend: {},\n            quote: {},\n            relate: {},\n            evaluate: {}\n        }\n    } else {\n        var thisObj = nor\n    }\n    if (type === 'choice' || type === 'checks'){\n\n        if (!thisObj.options[1]){\n\n            for (let i = 0; i < 2; i++){\n\n                thisObj.options[i+1] = {\n                    index: i+1,\n                    optionId: i+1,\n                    value: '',\n                    fillable: false\n                }\n            }\n        }\n    } else if (type === 'sort'){\n\n        if (!thisObj.options[1]){\n\n            for (let i = 0; i < 5; i++){\n\n                thisObj.options[i+1] = {\n                    index: i+1,\n                    optionId: i+1,\n                    value: '',\n                    score: '',\n                    fillable: false\n                }\n            }\n        }\n    } else if (type === 'score'){\n\n        if (!thisObj.options[1]){\n\n            for (let i = 0; i < noc; i++){\n\n                thisObj.options[i+1] = {\n                    index: i+1,\n                    optionId: i+1,\n                    value: '',\n                    score: '',\n                    fillable: false\n                }\n            }\n        }\n\n    } else if (type === 'blank'){\n\n        if (!thisObj.options[1]){\n\n            for (let i = 0; i < 2; i++){\n\n                thisObj.sub_questions[i+1] = {\n                    index: i+1,\n                    title: ''\n                }\n            }\n        }\n    } else if (type === 'matrix'){\n\n        if (!thisObj.options[1]){\n            switch (form){\n\n                case 'row':\n\n                    for (let i = 0; i < nor; i++){\n\n                        thisObj.sub_questions[i+1] = {\n                            index: i+1,\n                            title: '',\n                            prefix: ''\n                        }\n                    }\n                    for (let i = 0; i < noc; i++){\n\n                        thisObj.options[i+1] = {\n                            index: i+1,\n                            optionId: i+1,\n                            value: ''\n                        }\n                    }\n                    break;\n\n                case 'col':\n\n                    for (let i = 0; i < noc; i++){\n\n                        thisObj.sub_questions[i+1] = {\n                            index: i+1,\n                            title: '',\n                            prefix: ''\n                        }\n                    }\n                    for (let i = 0; i < nor; i++){\n\n                        thisObj.options[i+1] = {\n                            index: i+1,\n                            optionId: i+1,\n                            value: ''\n                        }\n                    }\n                    break;\n            }\n        }\n    }\n\n    thisObj.need = {\n        time: [],\n        date: []\n    };\n\n    questions.push(thisObj);\n\n    createVue(thisObj)\n}\n\n//创建Vue方法对象\nvar funcs = {\n\n    moveUp: function(e){\n\n        if (this.index > 1){\n\n            //取得vue根对象\n            var t = $(e.target).parents('.inners');\n            //dom中调换位置\n            t.insertBefore($(t[0].previousSibling));\n            //数据中两个对象交换index\n\n            var subtrahend = 2;//当前题目在数组中的序号是itemId-1,前一个应该是itemId-2\n\n            //从前一个题目开始往前遍历,第一个active===true的题目将被赋给变量pr\n            while (this.itemId >= subtrahend){\n\n                if (questions[this.itemId - subtrahend].active){\n\n                    var pr = questions[this.itemId - subtrahend];\n                    break\n                }\n                subtrahend += 1\n            }\n            if (!pr){\n                return false\n            }\n\n            //var pr = questions[this.itemId - 2];\n\n            var t_index = this.index,\n                p_index = pr.index;\n\n            var m_index = t_index;\n            this.index = p_index;\n            pr.index = m_index;\n        }\n    },\n    moveDown: function(e){\n\n        var l = 0;\n\n        for (let i = 0; i < total; i++){\n\n            if (questions[i].active === true){\n\n                l++\n            }\n        }\n\n        if (this.index < l){\n\n            var t = $(e.target).parents('.inners');\n\n            t.insertAfter($(t[0].nextSibling));\n\n\n            var subtrahend = 0;//当前题目在数组中的序号是itemId-1,下一个应该是itemId\n\n            //从下一个题目开始往后遍历,第一个active===true的题目将被赋给变量nt\n            while (this.itemId + subtrahend < (questions.length - 1)){\n\n                if (questions[this.itemId + subtrahend].active){\n\n                    var nt = questions[this.itemId + subtrahend];\n                    break\n                }\n                subtrahend += 1\n            }\n            if (!nt){\n                return false\n            }\n\n            //var nt = questions[this.itemId];\n\n            var t_index = this.index,\n                n_index = nt.index;\n\n            var m_index = t_index;\n            this.index = n_index;\n            nt.index = m_index;\n        }\n    },\n    edit: function(e){\n        this.editing = true\n    },\n    deleteQ: function(e){\n\n        //dom中移除vue根元素\n        var t = $(e.target).parents('.inners');\n        t.remove();\n\n        //数据中将此vue取消active状态,index置为空值\n        var c = this.index,\n            idToDelete = this.itemId;\n\n        //向后台提交删除\n        $.ajax({\n            url: realPath + 'questionnaire/deleteQuestion',\n            type: 'post',\n            contentType: 'application/json;charset=utf-8',\n            dataType: 'json',\n            async: true,\n            data: JSON.stringify({\n                itemId: idToDelete\n            }),\n            success: function(d){\n                var result = d[0].errorCode\n            },\n            error: function(e){\n\n            }\n        });\n\n        //取出所有活跃问题\n        var actived = [];\n\n        for (let i = 0; i < total; i++){\n\n            if (questions[i].active === true){\n\n                actived.push(questions[i])\n            }\n        }\n        //将所有index值大于此vue的对象index属性-1\n        for (let i = 0,l = actived.length; i < l; i++){\n\n            if (actived[i].index > c){\n\n                actived[i].index -= 1\n            }\n        }\n        this.active = false;\n        this.index = null;\n    },\n    logic: function(e){\n\n        var t = $(e.target),\n            qNow = questions[t.parents('.inners').attr('id').slice(1) - 1],\n            model = `\n                <div class=\"logic-control\">\n                    <div class=\"head\">\n                        <span class=\"title\">添加逻辑控制</span>\n                        <span class=\"close\"></span>\n                    </div>\n                    <div class=\"main\">\n                        <div class=\"words-restrict\">\n                            <div>\n                                <span>最少字数</span>\n                                <span contenteditable=\"true\" class=\"min\"></span>\n                            </div>\n                            <div>\n                                <span>最多字数</span>\n                                <span contenteditable=\"true\" class=\"max\"></span>\n                            </div>\n                        </div>\n                        <div class=\"depend\">\n                            <span>当题目</span>\n                            <select class=\"depend_question\">\n                                <option value=\"\">请选择</option>\n                            </select>\n                            <span>选中结果为</span>\n                                <a class=\"depend_option\" href=\"javascript: void(0);\">\n                                    <span class=\"initialed\">点击选择选项</span>\n                                    <span class=\"selected\" picked_option=\"[]\"></span>\n                                </a>\n                            <span>时,本题显示,否则本题隐藏</span>\n                        </div>\n                        <div class=\"relate\">\n                            <span>本题将引用题目</span>\n                            <select class=\"relate_question\">\n                                <option value=\"\">请选择</option>\n                            </select>\n                            <span>被选中的所有结果作为本题的备选项</span>\n                        </div>\n                        <div class=\"quote\">\n                            <span>本题将引用题目</span>\n                            <select class=\"quote_question\">\n                                <option value=\"\">请选择</option>\n                            </select>\n                            <span>的答题结果作为本题题干的一部分(请在题干中用[插入]标记出要插入的位置)</span>\n                        </div>\n                        <div class=\"jump\">\n                            <div class=\"jump_logics\"><a href=\"javascript:void(0);\">点击设置跳转逻辑</a></div>\n                            <!--<span>当本题选中结果为</span>-->\n                            <!--<select class=\"jump_option\">-->\n                                <!--<option value=\"\">请选择</option>-->\n                            <!--</select>-->\n                            <!--<span>时,下一题将跳转到题目</span>-->\n                            <!--<select class=\"jump_target\">-->\n                                <!--<option value=\"\">请选择</option>-->\n                                <!--<option value=\"over\">问卷结束(判定无效)</option>-->\n                            <!--</select>-->\n                        </div>\n                        <div class=\"evaluate\">\n                            <span>本题将根据题目</span>\n                            <select class=\"evaluate_question\">\n                                <option value=\"\">请选择</option>\n                            </select>\n                            <span>的答题结果不同,题干插入不同的内容(请在题干中用[赋值]标记出要插入的位置)</span>\n                            <div class=\"evaluate_options\">\n\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"foot\">\n                        <button class=\"cancel btn btn-sm btn-warning pull-right\">取消</button>\n                        <button class=\"save btn btn-sm btn-success pull-right\">保存</button>\n                    </div>\n                </div>`;\n\n        t.parents('.inner').append(model);\n\n        var inner = t.parents('.inner');\n\n        //判断填空题独有逻辑(字数限制)\n        if (inner.hasClass('blank')){\n            inner.find('.words-restrict').css('display','block');\n            try {\n                inner.find('.words-restrict .min').text(qNow.words_restrict.min);\n                inner.find('.words-restrict .max').text(qNow.words_restrict.max)\n            } catch(e){}\n        } else {\n            inner.find('.words-restrict').css('display','none')\n        }\n\n        //判断选择题独有逻辑(跳转逻辑&关联逻辑)\n        if (inner.hasClass('choice') || inner.hasClass('checks') || inner.hasClass('matrix') || inner.hasClass('score')){\n\n            //跳转\n            inner.find('.logic-control .jump').css('display','block');\n\n            //在新的框内设置跳转逻辑\n            function createJumpBox(e){\n\n                var jumpBox = $(`\n                    <div class=\"jump_box\">\n                        <div class=\"head\">请选择每个选项对应的跳转目标</div>\n                        <span class=\"close_jump\"></span>\n                    </div>\n                `),\n                    options = this.options,\n                    targets = ``;\n\n                //按顺序组成列表\n                for (let i in options){\n                    var o = options[i];\n                    jumpBox.append(`\n                    <div class=\"jump_option\">\n                        <span class=\"option_value\">选项` + o.index + '. ' + o.value.slice(0,5) + `...</span>\n                        <select class=\"jump_target\" option_id=\"` + o.optionId + `\" option_value=\"` + o.value + `\">\n                            <option value=\"\">请选择跳转目标</option>\n                            <option value=\"over\">问卷结束(判定无效)</option>\n                        </select>\n                    </div>\n                    `);\n                }\n                //将可选目标填入select\n                for (let i = 0,l = questions.length; i < l; i++){\n                    let q = questions[i];\n                    if (q.active === true && q.index > inner.find('.question_index>.index').text()){\n                        targets += `<option value=\"` + q.itemId + `\">` + q.index + `,` + q.title.slice(0,10) + `...</option>`\n                    }\n                }\n                var jumpBoxs = jumpBox.find('.jump_target');\n\n                jumpBoxs.each(function(){\n                    let index = Array.prototype.indexOf.call(jumpBoxs,this);\n                    $(this).append(targets);\n                    try{\n                        this.val(this.jump[index].target)\n                    }catch(e){}\n                });\n\n                inner.append(jumpBox);\n\n                function closeJump(e){\n\n                    //保存跳转逻辑的设置\n                    let self = this;\n\n                    jumpBoxs.each(function(){\n\n                        var optionId = $(this).attr('option_id');\n\n                        self.jump[optionId] = {\n                            optionId: optionId,\n                            value: self.options[optionId]['value'],\n                            target: $(this).val()\n                        }\n                    });\n\n                    jumpBox.remove();\n                    jumpBox = null\n                }\n\n                jumpBox.on('click','.close_jump',closeJump.bind(this));\n\n                //jumpBoxs.on('')\n            }\n\n            inner.find('.jump_logics').on('click', createJumpBox.bind(this));\n\n            //let options = this.options,\n            //    s_jump_option = inner.find('.logic-control .jump_option'),\n            //    s_jump_target = inner.find('.logic-control .jump_target');\n            //\n            //for (let i in options){\n            //    var o = options[i];\n            //    s_jump_option.append('<option value=\"'+ o.value +'\">'+ o.optionId + '.' + o.value.slice(0,5) +'...</option>')\n            //}\n            //\n            //function changeJumpTarget(e){\n            //\n            //    for (let i = 0,l = questions.length; i < l; i++){\n            //        let q = questions[i];\n            //        if (q.active === true && q.index > inner.find('.question_index>.index').text()){\n            //            s_jump_target.append('<option value=\"'+ q.itemId +'\">'+ q.index + ','+ q.title.slice(0,10) +'...</option>')\n            //        }\n            //    }\n            //    try{\n            //        s_jump_target.val(this.jump.target[0]);\n            //    } catch(e){}\n            //}\n            //\n            //try{\n            //    if (s_jump_option.val(this.jump.options[0])){\n            //        changeJumpTarget()\n            //    }\n            //} catch(e){}\n            //\n            //s_jump_option.on('change', changeJumpTarget.bind(this));\n\n            //关联\n            inner.find('.logic-control').find('.relate').css('display','block');\n\n            let s_relate_question = inner.find('.logic-control .relate_question');\n\n            for (let i = 0,l = questions.length; i < l; i++){\n                let q = questions[i];\n                if (q.active === true && (q.type === 'choice' || q.type === 'checks') && q.index < inner.find('.question_index>.index').text()){\n                    s_relate_question.append('<option value=\"'+ q.itemId +'\">'+ q.index + ','+ q.title.slice(0,10) +'...</option>')\n                }\n            }\n            try{\n                s_relate_question.val(this.relate.itemId)\n            } catch(e){}\n\n        } else {\n            inner.find('.logic-control').find('.jump').css('display','none');\n            inner.find('.logic-control').find('.relate').css('display','none')\n        }\n\n        //显示逻辑选项\n        if (this.type instanceof Array){\n            inner.find('.depend').css('display','none')\n        }\n        let s_depend_question = inner.find('.logic-control .depend_question'),\n            s_depend_option = inner.find('.logic-control .depend_option');\n\n        for (let i = 0,l = questions.length; i < l; i++){\n            let q = questions[i];\n            if (q.active === true && (q.type === 'choice' || q.type === 'checks') && q.index < inner.find('.question_index>.index').text() ){\n                s_depend_question.append('<option value=\"' + q.itemId + '\">' + q.index + '.' + q.title.slice(0,10) + '...' + '</option>')\n            }\n        }\n\n        function changeDependOption(e){\n\n\n            //如果调用此方法的事件target是预设的主要目标\n            if (e.originalEvent) e = e.originalEvent;\n\n            if ($(e.currentTarget).hasClass('depend_option')){\n\n                //创建一个元素(后来的弹出框)\n                var dependBox = $(`\n                    <div class=\"depend_box\">\n                        <div class=\"head\">在哪个选项被选中时,此题显示,请勾选</div>\n                        <span class=\"close_depend\"></span>\n                    </div>\n                `),\n                    dependQuestion = $(e.target).parents('.depend').find('.depend_question').val();\n\n                //如果已经选择了依赖题目\n                if (dependQuestion){\n                    //将依赖题目的选项赋予option\n                    var options = questions[dependQuestion - 1]['options'];\n                    //否则就退出方法\n                } else {\n                    return false\n                }\n\n                //如果不是预设的主要目标,且设置过的depend属性\n            } else if (this.depend.itemId) {\n\n                //将设置好的depend.itemId值赋予s_depend_question,仅在逻辑界面链接内显示选中的选项\n                s_depend_question.val(this.depend.itemId);\n\n                //将设置好的depend.options显示出来\n                var options = this.depend.options,\n                    txt = inner.find('.depend_option>.selected');\n\n                if (options.length > 0){\n\n                    var str = '';\n\n                    for (let i = 0,l = options.length; i < l; i ++){\n                        str += options[i].slice(0,5) + '...; '\n                    }\n                    txt.text(str)\n                        .attr('picked_option', JSON.stringify(options))\n                        .siblings('.initialed').text('');\n                }\n                return false\n            }\n\n\n\n            for (let i in options){\n\n                var ops = options[i];\n\n                dependBox.append(`\n                    <div class=\"depend_boxs\">\n                        <input class=\"pick_depend\" type=\"checkbox\" value=\"` + ops.value + `\">\n                        <span class=\"label_pick\">` + ops.optionId + `. ` + ops.value.slice(0,5) + `...</span>\n                    </div>\n                `);\n            }\n\n            //向DOM添加节点\n            inner.append(dependBox);\n\n            function closeDepend(e){\n\n                var txt = inner.find('.depend_option>.selected'),\n                    pickeds = dependBox.find('.pick_depend:checked');\n\n                txt.text('').attr('picked_option', '[]');\n\n                if (pickeds.length > 0){\n\n                    inner.find('.depend_option>.initialed').text('');\n\n                    pickeds.each(function(){\n\n                        txt.text(txt.text() + $(this).siblings('.label_pick').text());\n\n                        var ar = JSON.parse(txt.attr('picked_option'));\n\n                        ar.push($(this).val());\n\n\n                        txt.attr('picked_option', JSON.stringify(ar));\n                    });\n\n                }\n                dependBox.remove();\n                dependBox = null\n            }\n            dependBox.on('click', '.close_depend', closeDepend.bind(this));\n\n            try{\n\n                if (this.depend.itemId){\n\n                    let pickDepends = dependBox.find('.pick_depend'),\n                        self = this;\n\n                    pickDepends.each(function(){\n\n                        if (self.depend.options.indexOf($(this).val()) > -1){\n\n                            $(this).prop('checked', true)\n                        }\n                    })\n                }\n            } catch(e){}\n        }\n\n        function updateDependOption(e){\n\n            if (this.depend.itemId){\n\n                var txt = inner.find('.depend_option>.selected');\n\n                if (this.depend.itemId === $(e.target).val()){\n\n                    try {\n                        var options = this.depend.options;\n\n                        if (options.length > 0){\n\n                            var str = '';\n\n                            for (let i = 0,l = options.length; i < l; i ++){\n                                str += options[i].slice(0,5) + '...; '\n                            }\n                            txt.text(str)\n                                .attr('picked_option', JSON.stringify(options))\n                                .siblings('.initialed').text('');\n                        }\n                    } catch (e){}\n                } else {\n                    txt.text('').siblings('.initialed').text('点击选择选项')\n                }\n            }\n        }\n\n        try{\n            if (s_depend_question.val(this.depend.itemId)){\n                changeDependOption.bind(this)(e)\n            }\n        } catch(e){}\n\n        //if (true){\n        //\n        //}\n        s_depend_question.on('change', updateDependOption.bind(this));\n        s_depend_option.on('click',changeDependOption.bind(this));\n\n        //引用逻辑选项\n        let s_quote_question = inner.find('.logic-control .quote_question');\n\n        for (let i = 0,l = questions.length; i < l; i++){\n            let q = questions[i];\n            if (q.active === true && (q.type === 'choice' || q.type === 'checks' || q.type === 'blank') && q.index < inner.find('.question_index>.index').text()){\n                s_quote_question.append('<option value=\"'+ q.itemId +'\">'+ q.index + ','+ q.title.slice(0,10) +'...</option>')\n            }\n        }\n        try{\n            s_quote_question.val(this.quote.itemId);\n        } catch(e){}\n\n        //赋值逻辑选项\n        let s_evaluate_question = inner.find('.logic-control .evaluate_question');\n\n        for (let i = 0,l = questions.length; i < l; i++){\n            let q = questions[i];\n            if (q.active === true && (q.type === 'choice' || q.type === 'checks') && q.index < inner.find('.question_index>.index').text()){\n                s_evaluate_question.append('<option value=\"'+ q.itemId +'\">'+ q.index + ','+ q.title.slice(0,10) +'...</option>')\n            }\n        }\n\n        function changeEvaluate(e){\n\n            if (e){\n                if ($(e.target).val()){\n                    var options = questions[$(e.target).val()].options\n                }\n            } else if (this.evaluate.itemId){\n                var options = questions[this.evaluate.itemId - 1];\n            }\n\n            for (let i in options){\n\n                let thisOption = $('' +\n                    '<div class=\"evaluates\">' +\n                    '<span>选项 '+ options[i].index + '.'+ options[i].value.slice(0,5) +'...</span>' +\n                    '<span contenteditable=\"true\" class=\"input\"></span>' +\n                    '</div>');\n\n                if (this.evaluate.matches){\n\n                    if (this.evaluate.matches[options[i].optionId]){\n                        thisOption.find('.input').text(this.evaluate.matches[options[i].optionId])\n                    }\n                }\n\n                inner.find('.logic-control .evaluate_options').append(thisOption)\n            }\n        }\n\n        try{\n            s_evaluate_question.val(this.evaluate.itemId);\n        } catch(e){}\n\n        //if (true){\n        //\n        //}\n        s_evaluate_question.on('change', changeEvaluate.bind(this));\n\n        //保存按钮\n        inner.find('.logic-control').on('click', '.save', function(e){\n\n            var logics = inner.find('.logic-control'),\n                q = questions[inner.parent().attr('id').slice(1) - 1];\n\n            q.words_restrict = {\n                min: logics.find('.words-restrict>.min').text(),\n                max: logics.find('.words-restrict>.max').text()\n            };\n            q.depend = {\n                itemId: logics.find('.depend_question').val(),\n                options: JSON.parse(logics.find('.depend_option>.selected').attr('picked_option'))\n            };\n            //q.jump = {\n            //    options: [logics.find('.jump_option').val()],\n            //    target: logics.find('.jump_target').val()\n            //};\n            q.relate = {\n                itemId: logics.find('.relate_question').val()\n            };\n            q.quote = {\n                itemId: logics.find('.quote_question').val()\n            };\n            q.evaluate = {\n                itemId: logics.find('.evaluate_question').val()\n            };\n            if (q.evaluate.itemId){\n                let nodes = inner.find('.evaluate_options>.evaluates'),\n                    options = questions[q.evaluate.itemId - 1].options;\n\n                q.evaluate.matches = {};\n\n                for (let i in options){\n                    q.evaluate.matches[options[i].optionId] = {\n                        optionId: options[i].optionId,\n                        value: options[i].value,\n                        text: $(nodes[i]).find('.input').text()\n                    }\n                }\n            }\n            logics.remove()\n        });\n\n        //放弃按钮\n        inner.find('.logic-control').on('click', '.cancel', function(e){\n            inner.find('.logic-control').remove()\n        });\n    },\n    save: function(e){\n\n        this.editing = false;\n        var data = {\n            survey: sessionStorage.getItem('surveyId') || '',\n            email: sessionStorage.getItem('surveyName'),\n            singleQ: questions[this.itemId - 1],\n            singeTitle: $('#title').text()\n        },\n        self = this;\n        $.ajax({\n            url: realPath + '/questionnaire/singleSaveOrUpdate',\n            type: 'post',\n            contentType: 'application/json;charset=utf-8',\n            dataType: 'json',\n            async: true,\n            data: JSON.stringify(data),\n            success: function(d){\n                var designNow = sessionStorage.getItem('surveyId');\n                if (!designNow){\n                    sessionStorage.setItem('surveyId', d[0].surveyId)\n                }\n                self.itemKey = d[0].itemId\n\n            }\n        })\n    },\n    cancel: function(e){\n        this.editing = false;\n    },\n    editTitle: function(e){\n\n        var t = $(e.target);\n\n        if (this.type instanceof Array){\n            var name = t.attr('name');\n            this.title[name] = t.text()\n        }\n        this.title = t.text()\n    },\n    editRequired: function(e){\n\n        var t = $(e.target);\n\n        if (t.prop('checked') === true){\n\n            this.required = true;\n\n            t.siblings('label').find('.icon').addClass('checked')\n\n        } else {\n\n            this.required = false;\n\n            t.siblings('label').find('.icon').removeClass('checked')\n        }\n    },\n    editDescription: function(e){\n        this.description = $(e.target).text()\n    },\n    deleteOption: function(e){\n\n        var t = $(e.target),\n            id = t.attr('option_id');\n\n        var ops = JSON.parse(JSON.stringify(this.options));\n\n        delete(ops[id]);\n\n        this.options = ops\n    },\n    editOption: function(e){\n\n        var id = $(e.target).attr('option_id');\n\n        this.options[id].value = $(e.target).text()\n    },\n    editSuffix: function(e){\n        this.suffix = $(e.target).val()\n    },\n    editFillable: function(e){\n\n        var t = $(e.target),\n            id = t.attr('option_id');\n\n        if (t.prop('checked') === true){\n\n            this.options[id].fillable = true;\n            t.siblings('label').find('.icon').addClass('checked')\n\n        } else {\n\n            this.options[id].fillable = false;\n            t.siblings('label').find('.icon').removeClass('checked')\n        }\n    },\n    insertOption: function(e){\n\n        var ops = JSON.parse(JSON.stringify(this.options)),\n            c = 0;\n\n        for (let i in ops){\n\n            let n = ops[i].optionId;\n\n            if (n > c){\n                c = n\n            }\n        }\n        c += 1;\n\n        var heightNow = this.$el.offsetHeight;\n\n        ops[c] = {\n            index: c,\n            optionId: c,\n            value: '',\n            score: '',\n            fillable: false\n        };\n\n        this.options = ops;\n\n        if (this.$el.offsetHeight !== heightNow){\n\n            scrollToDem(this.$el.offsetHeight - heightNow)\n        }\n    },\n    check: function(e){\n        var t = $(e.target),\n            icon = t.siblings('label').find('.icon');\n        if (t.prop('checked') === true){\n            icon.find('span').css('background-color','#5bc0ff')\n        } else {\n            icon.find('span').css('background-color','#ffffff')\n        }\n    },\n    changeForm: function(e){\n\n        var t = $(e.target);\n\n        this.form = t.val()\n    },\n    changeClass: function(e){\n\n        var t = $(e.target);\n\n        this.theClass = t.val()\n    },\n    deleteSubQuestion: function(e){\n\n        var t = $(e.target),\n            id = t.attr('question_id');\n\n        var stq = JSON.parse(JSON.stringify(this.sub_questions));\n\n        delete(stq[id]);\n\n        this.sub_questions = stq\n    },\n    dragPrefix: function(event){\n\n        let start_coordinates = {//取起始坐标\n            x: event.clientX,\n            y: event.clientY\n        },\n            t = $(event.currentTarget),//取prefix行\n            spread = false,\n            edge = {bottom: -10, top: 42, divide: 16};\n\n        //判断prefix是否展开\n        if (t.css('height') === '32px'){\n            spread = true;\n            edge = {bottom: -42, top: 10, divide: -16}\n        }\n\n\n        //prefix边界随鼠标移动\n        function dragRow(event){\n\n            let move_coordinates = {//取鼠标移动的即时坐标\n                x: event.clientX,\n                y: event.clientY\n            }, vector = move_coordinates.y - start_coordinates.y;//取鼠标即时的移动方向(正为向下,负为向上)\n\n            if (vector >= edge.bottom && vector <= edge.top){\n\n                var height = spread ? (32 + vector) : (4 + vector);\n                t.css('height', height + 'px');\n                t.find('.edit-prefix').css('height', height + 'px')\n                    .css('fontSize', '0px')\n            } else {\n                endDrag(event);\n            }\n            if (vector < -10){\n                console.log(vector)\n            }\n        }\n\n        //抬时鼠标键或者鼠标拖出区域时,结束并解绑\n        function endDrag(event){\n\n            let move_coordinates = {//取鼠标移动的即时坐标\n                x: event.clientX,\n                y: event.clientY\n            }, vector = move_coordinates.y - start_coordinates.y;\n\n            if (vector <= edge.divide){\n                t.find('.edit-prefix').animate({height: '4px'}, 150).attr('contenteditable', false);\n                t.animate({height: '4px'}, 150);\n            } else {\n                t.animate({height: '32px'}, 150);\n                t.find('.edit-prefix').animate({height: '32px'}).attr('contenteditable', true)\n                    .css('fontSize', '14px')\n            }\n            $('body').off('mousemove').off('mouseup');\n            return\n        }\n\n        $('body').on('mousemove', dragRow).on('mouseup', endDrag);//当拖动时,prefix行随之变动,抬起鼠标键时,解绑事件且结束\n    },\n    editPrefix: function(event){\n        let t = $(event.target);\n        this.sub_questions[t.attr('question_id')].prefix = t.text()\n    },\n    insertSubQuestion: function(e){\n\n        var stq = JSON.parse(JSON.stringify(this.sub_questions)),\n            c = 0;\n\n        for (let i in stq){\n\n            let n = stq[i].index;\n\n            if (n > c){\n                c = n\n            }\n        }\n        c += 1;\n\n        stq[c] = {\n            index: c,\n            title: ''\n        };\n\n        var heightNow = this.$el.offsetHeight;\n\n        this.sub_questions = stq;\n\n        if (this.$el.offsetHeight !== heightNow){\n\n            scrollToDem(this.$el.offsetHeight - heightNow)\n        }\n    },\n    editSubQuestion: function(e){\n\n        var id = $(e.target).attr('question_id');\n\n        this.sub_questions[id].title = $(e.target).text()\n    },\n\n\n    toggleHour: function(e){\n\n        var n = this.need.time;\n\n        if ($(e.target).prop('checked') === true){\n\n            n.push('hour')\n\n        } else {\n\n            try{\n                n.splice(n.indexOf('minute'),1)\n\n            } catch(e){}\n        }\n    },\n    toggleMinute: function(e){\n\n        var n = this.need.time;\n\n        if ($(e.target).prop('checked') === true){\n\n            n.push('minute')\n\n        } else {\n\n            try{\n                n.splice(n.indexOf('minute'),1)\n\n            } catch(e){}\n        }\n    },\n    toggleSecond: function(e){\n\n        var n = this.need.time;\n\n        if ($(e.target).prop('checked') === true){\n\n            n.push('second')\n\n        } else {\n\n            try{\n                n.splice(n.indexOf('second'),1)\n\n            } catch(e){}\n        }\n    },\n    toggleYear: function(e){\n\n        var n = this.need.date;\n\n        if ($(e.target).prop('checked') === true){\n\n            n.push('year')\n\n        } else {\n\n            try{\n                n.splice(n.indexOf('year'),1)\n\n            } catch(e){}\n        }\n    },\n    toggleMonth: function(e){\n\n        var n = this.need.date;\n\n        if ($(e.target).prop('checked') === true){\n\n            n.push('month')\n\n        } else {\n\n            try{\n                n.splice(n.indexOf('month'),1)\n\n            } catch(e){}\n        }\n    },\n    toggleDate: function(e){\n\n        var n = this.need.date;\n\n        if ($(e.target).prop('checked') === true){\n\n            n.push('date')\n\n        } else {\n\n            try{\n                n.splice(n.indexOf('date'),1)\n\n            } catch(e){}\n        }\n    },\n    mark: function(e){\n\n        var t = $(e.target);\n\n        if (t.prop('checked') === true){\n\n\n        }\n    },\n    editScore: function(e){\n\n        var t = $(e.target),\n            id = t.attr('option_id');\n\n        this.options[id].score = t.text()\n    }\n};\n\n//当新建题目,新加选项时,自动滚动页面到最后面\nfunction scrollToDem(t){\n\n    var scrollTo;\n\n    if (t instanceof Number){\n        scrollTo = t\n    } else {\n        var $r = $('#room'),\n            scrollTopNow = $r[0].scrollTop,\n            height = t[0].offsetHeight;\n\n        scrollTo = scrollTopNow + height;\n    }\n\n    $r.animate({scrollTop: scrollTo}, 200)\n}\n\n//创建Vue对象\nfunction createVue(obj){\n\n    var el = '#q' + obj.itemId;\n\n    vues.push(new Vue({\n\n        el: el,\n\n        data: obj,\n\n        methods: funcs\n    }));\n    total += 1;\n    //向下滚动到合适位置\n    scrollToDem($(el));\n}\n\nfunction createMessageVue(obj){\n\n    var el = '#q' + obj.itemId;\n\n    vues.push(new Vue({\n\n        el: el,\n\n        data: obj,\n\n        methods: funcs\n    }));\n    total += 1;\n\n    //向下滚动到合适位置\n    scrollToDem($(el));\n}\n\n//暴露接口\nmodule.exports.createQuestion = createQuestion;\nmodule.exports.createMatrixQuestion = createMatrixQuestion;\nmodule.exports.createMessage = createMessage;\nmodule.exports.drawQuestion = drawQuestion;\n\n\n\n\n// WEBPACK FOOTER //\n// ./unpacked/kolpanel/createItem.js","/**\n * Created by wangxiangyang on 2017/11/29.\n */\nvar curWwwPath=window.document.location.href;\nvar pathName=window.document.location.pathname;\nvar pos=curWwwPath.indexOf(pathName);\nvar localhostPath=curWwwPath.substring(0,pos);\nvar projectName=pathName.substring(0,pathName.substr(1).indexOf('/')+1);\n\nwindow.realPath=localhostPath+projectName;\n//window.sets = window.sets ? sets : {};\nwindow.questions = window.questions ? questions : [];\nwindow.vues = window.vues ? vues : [];\n\n\n// WEBPACK FOOTER //\n// ./unpacked/kolpanel/realPath.js","/**\n * Created by wangxiangyang on 2017/11/15.\n */\n\n\n//收集设置渲染\nfunction renderCollectControl(){\n    //问卷收集部分的选项\n    if (!window.sets){\n        window.sets = {\n            total_top: 0,\n            total_bottom: 0,\n            time_question: {\n                restrict: false,\n                time: null\n            },\n            time_survey: {\n                restrict: false,\n                time:null\n            },\n            clientOnly: false,\n            disposableForClient: false,\n            disposableForIp: false,\n            disposableForDevice: false,\n            passwordNeeded: false,\n            verificationCodeNeeded: false,\n            allocations: {\n                question_list: questions,\n                summary_top: 0,\n                summary_bottom: 0,\n                allocate_top: 0,\n                allocate_bottom: 0,\n                collected: 0,\n                allocatings: [\n                    {\n                        index: 0,\n                        question_id: '',\n                        question_title: '',\n                        options: {},\n                        sum_top: 0,\n                        sum_bottom: 0,\n                        allocate_option: [\n                            {\n                                op_index: 0,\n                                value: '',\n                                allocation_top: 0,\n                                percent_top: 0,\n                                allocation_bottom: 0,\n                                percent_bottom: 0,\n                                collected: 0\n                            },{\n                                op_index: 1,\n                                value: '',\n                                allocation_top: 0,\n                                percent_top: 0,\n                                allocation_bottom: 0,\n                                percent_bottom: 0,\n                                collected: 0\n                            }\n                        ]\n                    }\n                ]\n            },\n            allocation_cross: {\n                question_list: questions,\n                summary_top: 0,\n                summary_bottom: 0,\n                allocate_top: 0,\n                allocate_bottom: 0,\n                collected: 0,\n                allocatings: [\n                    {\n                        index: 0,\n                        options: {},\n                        conditionString: '',\n                        allocate_bottom: 0,\n                        allocate_top: 0,\n                        percent_bottom: 0,\n                        percent_top: 0,\n                        percent_average: 0\n                    },{\n                        index: 1,\n                        options: {},\n                        conditionString: '',\n                        allocate_bottom: 0,\n                        allocate_top: 0,\n                        percent_bottom: 0,\n                        percent_top: 0,\n                        percent_average: 0\n                    }\n                ]\n            }\n        };\n    }\n    sets.allocations.summary_bottom = sets.allocation_cross.summary_bottom = sets.total_bottom;\n    sets.allocations.summary_top = sets.allocation_cross.summary_top = sets.total_top;\n\n    var setsV = new Vue({\n        el: '#collect_control',\n        data: sets,\n        methods: {\n            updateTotalTop: function(event){\n                this.allocations.summary_top = parseInt($(event.target).val());\n                this.allocation_cross.summary_top = parseInt($(event.target).val())\n            },\n            updateTotalBottom: function(event){\n                this.allocations.summary_bottom = parseInt($(event.target).val());\n                this.allocation_cross.summary_bottom = parseInt($(event.target).val())\n            }\n        }\n    });\n}\n\n//点击到设置配额界面时,加载数据\nfunction renderAllocateControl(){\n\n        var allocationV = new Vue({\n            el: '#allocate_basic',\n            data: sets.allocations,\n            methods: {\n                updateSummaryBottom: function(event){\n                    sets.total_bottom = this.summary_bottom = $(event.target).val()\n                },\n                updateSummaryTop: function(event){\n                    sets.total_bottom = this.summary_top = $(event.target).val()\n                },\n                findTP: function(event){\n                    let t = $(event.target),\n                        p = t.parents('.allocation').attr('index');\n                    return [t,p]\n                },\n                findTPG: function(event){\n                    let t = $(event.target),\n                        p = t.parents('tr').attr('op_index'),\n                        g = t.parents('.allocation').attr('index');\n                    return [t,p,g]\n                },\n                selectQuestion: function(event){\n                    let [t,p] = this.findTP(event);\n                    this.allocatings[p].question_id = t.val();\n                    this.allocatings[p].options = this.question_list[t.val() - 1].options ? this.question_list[t.val() - 1].options : {}\n                },\n                selectOption: function(event){\n                    let [t,p,g] = this.findTPG(event);\n                    this.allocatings[g].allocate_option[p].value = t.val()\n                },\n                editAllocationBottom: function(event){\n                    let [t,p,g] = this.findTPG(event),\n                        allocatings = this.allocatings,\n                        options = allocatings[g].allocate_option,\n                        sum_bottom = 0,\n                        allocate_bottom = 0;\n\n                    options[p].allocation_bottom = parseInt(t.val());\n\n                    options[p].percent_bottom = Math.round(options[p].allocation_bottom * 100 / this.summary_bottom);\n\n                    for (let i in options){\n                        sum_bottom += options[i].allocation_bottom\n                    }\n                    allocatings[g].sum_bottom = sum_bottom;\n\n                    for (let i in allocatings){\n                        allocate_bottom += allocatings[i].sum_bottom\n                    }\n                    this.allocate_bottom = allocate_bottom\n\n                },\n                editAllocationTop: function(event){\n                    let [t,p,g] = this.findTPG(event),\n                        allocatings = this.allocatings,\n                        options = allocatings[g].allocate_option,\n                        sum_top = 0,\n                        allocate_top = 0;\n\n                    options[p].allocation_top = parseInt(t.val());\n\n                    options[p].percent_top = Math.round(options[p].allocation_top * 100 / this.summary_top);\n\n                    for (let i in options){\n                        sum_top += options[i].allocation_top\n                    }\n                    allocatings[g].sum_top = sum_top;\n\n                    for (let i in allocatings){\n                        allocate_top += allocatings[i].sum_top\n                    }\n                    this.allocate_top = allocate_top\n                },\n                insertAllocation: function(event){\n                    let [t,p] = this.findTP(event),\n                        allocations = this.allocatings[p].allocate_option;\n                    allocations.push({\n                        op_index: allocations.length,\n                        value: '',\n                        allocation_top: 0,\n                        percent_top: 0,\n                        allocation_bottom: 0,\n                        percent_bottom: 0,\n                        collected: 0\n                    })\n                },\n                deleteAllocation: function(event){\n                    let [t,p,g] = this.findTPG(event),\n                        options = this.allocatings[g].allocate_option,\n                        option = options[p];\n                    options.splice(options.indexOf(option),1);\n                },\n                insertTable: function(event){\n                    let allocatings = this.allocatings,\n                        t = event.target;\n                    allocatings.push({\n                        index: allocatings.length,\n                        question_id: '',\n                        question_title: '',\n                        options: {},\n                        sum_top: 0,\n                        sum_bottom: 0,\n                        allocate_option: [\n                            {\n                                op_index: 0,\n                                value: '',\n                                allocation_top: 0,\n                                percent_top: 0,\n                                allocation_bottom: 0,\n                                percent_bottom: 0,\n                                collected: 0\n                            },{\n                                op_index: 1,\n                                value: '',\n                                allocation_top: 0,\n                                percent_top: 0,\n                                allocation_bottom: 0,\n                                percent_bottom: 0,\n                                collected: 0\n                            }\n                        ]\n                    });\n                    setTimeout(function(){t.scrollIntoView(false)},100)\n                }\n            }\n        });\n\n        var allocation_cross = new Vue({\n            el: '#allocate_cross',\n            data: sets.allocation_cross,\n            mounted: function(){\n                $(this.$el).find('.writable').each(function(){\n                    let v = $(this).text();\n                    $(this).empty().text(v);\n                })\n            },\n            methods: {\n                findTP: function(event){\n                    let t = $(event.target),\n                        p = t.parents('tr').attr('index');\n                    return [t,p]\n                },\n                moveToEnd: function(that){\n                    if(document.all){\n                        that.range=document.selection.createRange();\n                        that.range.select();\n                        that.range.moveStart(\"character\",-1);\n                    }else{\n                        that.range=window.getSelection().getRangeAt(0);\n                        that.offset = that.range.startOffset;\n\n                        return that.offset;\n                    }\n                },\n                middlePostion: function(event, char){\n                    event.preventDefault();\n                    let t = $(event.target),\n                        p = t.parents('.conditions'),\n                        g = t.parents('tr').attr('index');\n                    if(document.all){\n                        return;\n                        //t.range=document.selection.createRange();\n                        //t.range.select();\n                        //t.range.moveStart(\"character\",-1);\n                    }else{\n                        t.range = window.getSelection().getRangeAt(0);\n                        t.index = Array.prototype.indexOf.call(t[0].childNodes, t.range.startContainer);\n                        t.container = t.range.startContainer;\n                        t.offset= t.range.startOffset;\n                        let arr = t.text().split('');\n                        arr.splice(c.offset,0,char);\n                        let text = arr.join('');\n                        t.text(text);\n                        this.allocatings[g].conditionString = text;\n                        t.focus();\n                        t.range.setStart($(t.range.startContainer)[0].childNodes[t.index], t.offset+1);\n                    }\n                },\n                editExpression: function(event){\n                    let [t,p] = this.findTP(event),\n                        v = t.text();\n                    this.allocatings[p].conditionString = v;\n                },\n                keysFuncs: function(event){\n\n                    let n = event.keyCode,\n                        c = event.ctrlKey,\n                        a = event.altKey,\n                        m = event.metaKey,\n                        s = event.shiftKey;\n\n                    $(event.target).parents('.conditions').find('.questions-in-expression').hide();\n\n                    if (n === 32){\n                        let [t,p] = this.findTP(event);\n                        event.preventDefault();\n                        if (document.all){} else {\n\n                            t.range = window.getSelection().getRangeAt(0);\n\n                            if(/q$/.test(t.range.startContainer.data.slice(0,t.range.startOffset))){\n                                this.chooseQuestion(event)\n\n                            } else if (t.range.startContainer.data.slice(0,t.range.startOffset).match(/q(\\d+)=$/)){\n                                this.chooseAnswer(event, t.range.startContainer.data.slice(0,t.range.startOffset).match(/q(\\d+)=$/)[1])\n                            }\n                        }\n                    } else if (n === 40 || n === 65288){\n                        this.openBracket(event)\n                    } else if (n === 41 || n === 65289){\n                        this.closeBracket(event)\n                    } else if (n === 61){\n                        //this.chooseAnswer(event)\n                    } else if (n === 38){\n                        this.insertAnd(event)\n                    } else if (n === 124){\n                        this.insertOr(event)\n                    } else if (n === 33 || n === 65281){\n                        this.insertNot(event)\n                    }\n                },\n                chooseQuestion: function(event){\n                    $(event.target).parents('.conditions').find('.questions-in-expression').show()\n                },\n                pickQuestion: function(event){\n                    let t = $(event.target),\n                        question_id = t.attr('item_id'),\n                        l = question_id.length,\n                        p = t.parents('.conditions'),\n                        c = p.find('.express'),\n                        g = t.parents('tr').attr('index');\n\n                    t.parents('.questions-in-expression').hide();\n\n                    if(document.all){\n                        return;\n                        //t.range=document.selection.createRange();\n                        //t.range.select();\n                        //t.range.moveStart(\"character\",-1);\n                    }else{\n                        c.range = window.getSelection().getRangeAt(0);\n                        c.index = Array.prototype.indexOf.call(c[0].childNodes, c.range.startContainer);\n                        c.offset= c.range.startOffset;\n                        let arr = c[0].childNodes[c.index].data.split('');\n                        arr.splice(c.offset,0,question_id);\n                        let text = arr.join('');\n                        c[0].childNodes[c.index].data = text;\n                        this.allocatings[g].conditionString = c.html();\n                        c.focus();\n                        c.range.setStart(c[0].childNodes[c.index], c.offset+parseInt(l));\n                    }\n                },\n                openBracket: function(event){\n                    this.middlePostion(event,'(')\n                },\n                closeBracket: function(event){\n                    this.middlePostion(event, ')')\n                },\n                chooseAnswer: function(event, itemid){\n                    this.allocatings[$(event.target).parents('tr').attr('index')].options = this.question_list[itemid-1].options;\n                    $(event.target).parents('.conditions').find('.options-in-expression').show()\n                },\n                pickAnswer: function(event){\n                    if (event.type === 'keypress'){\n                        if (event.keyCode !== 13){\n                            $(event.target).attr('title', $(event.target).text());\n                            return\n                        }\n                    }\n                    let t = $(event.target),\n                        v = t.attr('title'),\n                        l = v.length,\n                        p = t.parents('.conditions'),\n                        c = p.find('.express'),\n                        g = t.parents('tr').attr('index');\n\n                    t.parents('.options-in-expression').hide();\n\n                    if(document.all){\n                        return;\n                        //t.range=document.selection.createRange();\n                        //t.range.select();\n                        //t.range.moveStart(\"character\",-1);\n                    }else{\n                        c.range = window.getSelection().getRangeAt(0);\n                        c.index = Array.prototype.indexOf.call(c[0].childNodes, c.range.startContainer);\n                        c.offset= c.range.startOffset;\n                        let arr = c[0].childNodes[c.index].data.split('');\n                        arr.splice(c.offset,0,v);\n                        let text = arr.join('');\n                        c[0].childNodes[c.index].data = text;\n                        this.allocatings[g].conditionString = c.html();\n                        c.focus();\n                        c.range.setStart(c[0].childNodes[c.index], c.offset+parseInt(l));\n                    }\n                },\n                insertAnd: function(event){\n                    event.preventDefault();\n                    this.insertRelation(event, '&&')\n                },\n                insertOr: function(event){\n                    event.preventDefault();\n                    this.insertRelation(event, '||')\n                },\n                insertNot: function(event){\n                    event.preventDefault();\n                    this.insertRelation(event, ' !')\n                },\n                insertRelation: function(event, char){\n                    let t = $(event.target),\n                        p = t.parents('tr').attr('index'),\n                        nodes = t[0].childNodes,\n                        l = nodes.length + 1;\n                    nodes[l-2].data += ' ';\n                    t.append(`<b>` + char + `</b>`)\n                        .append(document.createTextNode(' q'));\n                    this.allocatings[p].conditionString = t.html();\n                    t.range = window.getSelection().getRangeAt(0);\n                    t.range.setStart(nodes[l],2);\n                },\n                editEdge: function(event){\n                    let t = $(event.target),\n                        cls = t.className,\n                        al = this.allocatings[t.parents('tr').attr('index')];\n\n                    al['allocate_'+ cls] = t.val();\n                    al['percent_' + cls] = Math.round(al['allocate_'+ cls] * 100 / this['summary_' + cls]);\n\n                    if (al.percent_bottom === 0){\n                        al.precent_average = al.percent_top\n                    } else if (al.percent_top === 0){\n                        al.percent_average = al.percent_bottom\n                    } else {\n                        al.percent_average = Math.round((al.percent_bottom + al.percent_top) / 2)\n                    }\n                },\n                insertCondition: function(event){\n                    let allocatings = this.allocatings,\n                        index = allocatings.length;\n                    allocatings.push({\n                        index: index,\n                        options: {},\n                        conditionString: '',\n                        allocate_bottom: 0,\n                        allocate_top: 0,\n                        percent_bottom: 0,\n                        percent_top: 0,\n                        percent_average: 0\n                    })\n\n                }\n            }\n        });\n    //}\n}\n\nfunction prepareForProgressControl(){\n\n    let surveyName = sessionStorage.getItem('surveyName');\n    fillOptions(surveyName)\n}\n\nfunction prepareForQualityControl(){\n\n    let surveyName = sessionStorage.getItem('surveyName');\n\n    fillOptions(surveyName)\n}\n\nfunction fillOptions(surveyName){\n\n    $.ajax({\n        url: realPath + '/questionnaire/searchWjTitle',\n        type: 'post',\n        contentType: 'application/json;charset=utf-8',\n        dataType: 'json',\n        async: true,\n        data: JSON.stringify({\n            email: surveyName\n        }),\n        success: function(data){\n            let options = `<option value=\"\">请选择</option>`,\n                ql = data[0].result;\n            for (let i = 0, l = ql.length; i < l; i++){\n                options += `<option value=\"`+ ql[i].wjId +`\" title=\"`+ ql[i].title +`\">`+ ql[i].wjId + `. ` + ql[i].title.slice(0,5) +`...</option>`;\n            }\n            $('.select_survey_by_name').html(options)\n        }\n    });\n}\n\n//进度控制\nfunction renderProgressControl(event){\n\n    let surveyId = $(event.target).parent().siblings('.select_survey_by_name').val();//取问卷id\n\n    function displayProgress(data){\n\n        $('#set_ui').find('.set.progress').css('display','block');\n\n        let progressSumVue = new Vue({\n            el: '#progress_basic',\n            data: data[0].allocations\n        }),\n            progressCrossVue = new Vue({\n                el: '#progress_cross',\n                data: data[0].allocation_cross\n            })\n    }\n\n    //请求数据\n    $.ajax({\n        url: realPath + '/questionnaire/progress',\n        type: 'post',\n        contentType: 'application/json;charset=utf-8',\n        dataType: 'json',\n        async: true,\n        data: JSON.stringify({survey: surveyId}),\n        success: function(data){\n            displayProgress(data)\n        }\n    })\n}\n\n//质量控制\nfunction renderQualityControl(){\n\n    $('#set_ui').find('.set.quality').css('display','block');\n\n    let surveyId = $(event.target).parent().siblings('.select_survey_by_name').val();//取问卷id\n\n    function arrangeQuestion(data){\n        var top_label = new Vue({\n            el: '#toptable',\n            data: data\n        }),\n            width = 0;\n        for (let i = 0, l = data.question_list.length; i < l; i++){\n            width += 202\n        }\n\n        return supposedWidth = width || 122 + 'px'\n    }\n    function fillAnswers(data){\n        window.result_list = data;\n        var main = new Vue({\n            el: '#answers',\n            data: result_list\n        })\n    }\n    function programmingTable(){\n        //最后整理框架样式\n        //如果边框宽度一样，则宽度+1个右边框\n        //否则要宽度+左边框宽度+右边框宽度-本身边框宽度\n        var marginLeft = parseInt($(\"#toplefttbl\").css('width').match(/\\d+/g)[0]) + parseInt($(\"#toplefttbl\").css(\"border-right-width\").match(/\\d+/g)[0]);\n        var marginTop = parseInt($(\"#toplefttbl\").css('height').match(/\\d+/g)[0]) + parseInt($(\"#toplefttbl\").css(\"border-bottom-width\").match(/\\d+/g)[0]);\n        $(\"#toptable\").css(\"margin-left\", marginLeft + \"px\") //设置顶部栏距左距离\n            .css('width', supposedWidth);\n        //$(\"#lefttable\").css(\"margin-top\", marginTop + \"px\"); //设置左边栏距上距离\n        //设置内容表格距左距上距离\n        $(\"#datatable\").css(\"margin-left\", marginLeft + \"px\")\n            .css(\"margin-top\", marginTop + \"px\")\n            .css('width',supposedWidth);\n        //顶部栏外层DIV宽度为 总容器宽度-滚动轴宽度(16为滚动轴宽度)\n        $(\"#topdv\").css(\"width\", $(\"#container\").width() - 16);\n        $(\"#leftdv\").css(\"height\", $(\"#container\").height() - 16);\n        //容器滚动事件\n        $(\"#container\").scroll(function () {\n            var currentScrollTop = $(this).scrollTop();\n            var currentScrollLeft = $(this).scrollLeft();\n            $(\"#topdv\").find(\".table-mask\").css(\"left\", -currentScrollLeft + \"px\");\n            $(\"#leftdv\").find(\".table-mask\").css(\"top\", -currentScrollTop + \"px\");\n\n        });\n    }\n\n    $.ajax({\n        url: realPath + '/questionnaire/qualityControl',\n        type: 'post',\n        contentType: 'application/json;charset=utf-8',\n        dataType: 'json',\n        async: true,\n        data: JSON.stringify({survey: surveyId}),\n        success: function(data){\n            arrangeQuestion(data[0].questions);\n            fillAnswers(data[0].answers);\n            programmingTable();\n        }\n    });\n    //var questions = {\n    //    question_list: [\n    //        {index: 1,title: '第一题'},\n    //        {index: 2,title: '第二题'},\n    //        {index: 3,title: '第三题'},\n    //        {index: 4,title: '第四题'}\n    //    ]\n    //},\n    //    results = {\n    //        results: [\n    //            {\n    //                resultId: 1,\n    //                availability: 1,\n    //                reason: '',\n    //                list: [23,34,43,21]\n    //            },{\n    //                resultId: 2,\n    //                availability: 0,\n    //                reason: '甄别题没过',\n    //                list: [54,234,654,3]\n    //            },{\n    //                resultId: 3,\n    //                availability: 1,\n    //                reason: '',\n    //                list: [15,63,84,412]\n    //            }\n    //        ]\n    //    };\n    //arrangeQuestion(questions);\n    //fillAnswers(results);\n    //programmingTable();\n}\n\n//暴露接口\nmodule.exports.renderCollectControl = renderCollectControl;\nmodule.exports.renderAllocateControl = renderAllocateControl;\nmodule.exports.prepareForProgressControl = prepareForProgressControl;\nmodule.exports.renderProgressControl = renderProgressControl;\nmodule.exports.prepareForQualityControl = prepareForQualityControl;\nmodule.exports.renderQualityControl = renderQualityControl;\n\n\n// WEBPACK FOOTER //\n// ./unpacked/kolpanel/setui.js","/**\n * Created by wangxiangyang on 2017/9/27.\n */\n\n//模块html\nvar component = `\n    <div class=\"inners\" :id=\"'q' + item_id\">\n        <div class=\"inner choice\" v-if=\"type==='choice'\">\n            <div class=\"display\" v-show=\"!editing\">\n                <div class=\"question_head\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\">{{ title }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"description\">{{ description }}</div>\n                <div class=\"control\">\n                    <div class=\"button up\" @click=\"moveUp\">{</div>\n                    <div class=\"button down\" @click=\"moveDown\">}</div>\n                    <div class=\"button edit\" @click=\"edit\">W</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers\">\n                    <div class=\"input choice\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <input :id=\"'radio_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"radio\" :value=\"option.value\" @change=\"check\">\n                        <label :for=\"'radio_q' + item_id + '_op' + option.optionId\">\n                            <i class=\"icon\"><span></span></i>\n                            <span class=\"option_text\">{{ option.value }}</span>\n                        </label>\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"option.fillable\"></span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"edit\" v-show=\"editing\">\n                <div class=\"question_head\">\n                    <div class=\"question_title\" placeholder=\"请输入问题标题\" contenteditable=\"true\" @input=\"editTitle\"></div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n               <span class=\"description_label\">题目描述: </span>\n                <div class=\"description\" placeholder=\"请输入问题描述\" contenteditable=\"true\" @input=\"editDescription\"></div>\n                <div class=\"control\">\n                    <div class=\"button save\" @click=\"save\">3</div>\n                    <div class=\"button cancel\" @click=\"cancel\">d</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers\">\n                    <div class=\"input choice\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <i class=\"icon\" :option_id=\"option.optionId\" @click=\"deleteOption\">*</i>\n                        <div class=\"option_text\" :option_id=\"option.optionId\" placeholder=\"输入选项\" contenteditable=\"true\" @input=\"editOption\"></div>\n                        <span class=\"option_fillable\">\n                            <input type=\"checkbox\" :id=\"'fillable_q' + item_id + '_op' + option.optionId\" :option_id=\"option.optionId\" :checked=\"option.fillable\" @change=\"editFillable\">\n                            <label :for=\"'fillable_q' + item_id + '_op' + option.optionId\">\n                                <i class=\"icon\"></i>\n                                <span>开放</span>\n                            </label>\n                        </span>\n                    </div>\n                    <div class=\"input choice insert\" @click=insertOption>\n                        <i class=\"icon\">&</i>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"inner checks\" v-if=\"type==='checks'\">\n            <div class=\"display\" v-show=\"!editing\">\n                <div class=\"question_head\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\">{{ title }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"description\">{{ description }}</div>\n                <div class=\"control\">\n                    <div class=\"button up\" @click=\"moveUp\">{</div>\n                    <div class=\"button down\" @click=\"moveDown\">}</div>\n                    <div class=\"button edit\" @click=\"edit\">W</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers\">\n                    <div class=\"input checks\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <input :id=\"'checks_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"checkbox\" :value=\"option.value\" @change=\"check\">\n                        <label :for=\"'checks_q' + item_id + '_op' + option.optionId\">\n                            <i class=\"icon\"><span></span></i>\n                            <span class=\"option_text\">{{ option.value }}</span>\n                        </label>\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"option.fillable\"></span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"edit\" v-show=\"editing\">\n                <div class=\"question_head\">\n                    <div class=\"question_title\" placeholder=\"请输入问题标题\" contenteditable=\"true\" @input=\"editTitle\"></div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <span class=\"description_label\">题目描述: </span>\n                <div class=\"description\" placeholder=\"请输入问题描述\" contenteditable=\"true\" @input=\"editDescription\"></div>\n                <div class=\"control\">\n                    <div class=\"button save\" @click=\"save\">3</div>\n                    <div class=\"button cancel\" @click=\"cancel\">d</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers\">\n                    <div class=\"input checks\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <i class=\"icon\" :option_id=\"option.optionId\" @click=\"deleteOption\">*</i>\n                        <div class=\"option_text\" :option_id=\"option.optionId\" placeholder=\"输入选项\" contenteditable=\"true\" @input=\"editOption\"></div>\n                        <span class=\"option_fillable\">\n                            <input type=\"checkbox\" :id=\"'fillable_q' + item_id + '_op' + option.optionId\" :option_id=\"option.optionId\" :checked=\"option.fillable\" @change=\"editFillable\">\n                            <label :for=\"'fillable_q' + item_id + '_op' + option.optionId\">\n                                <i class=\"icon\"></i>\n                                <span>开放</span>\n                            </label>\n                        </span>\n                    </div>\n                    <div class=\"input checks insert\" @click=\"insertOption\">\n                        <i class=\"icon\">&</i>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"inner blank\" v-if=\"type==='blank'\">\n            <div class=\"display\" v-show=\"!editing\">\n                <div class=\"question_head\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\">{{ title }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"description\">{{ description }}</div>\n                <div class=\"control\">\n                    <div class=\"button up\" @click=\"moveUp\">{</div>\n                    <div class=\"button down\" @click=\"moveDown\">}</div>\n                    <div class=\"button edit\" @click=\"edit\">W</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers single\" v-show=\"form==='single'\">\n                    <div class=\"input blank\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                        <span class=\"suffix\">{{ suffix }}</span>\n                    </div>\n                </div>\n                <div class=\"answers multi\" v-show=\"form==='multi'\">\n                    <div class=\"input blank\">\n                        <div class=\"questions\" v-for=\"question in sub_questions\" :key=\"question.index\">\n                            <span class=\"sub_question\">{{ question.title }}<i>:</i></span>\n                            <span class=\"blank\" contenteditable=\"true\"></span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"answers textarea\" v-show=\"form==='textarea'\">\n                    <div class=\"input blank\">\n                        <div class=\"blank\" contenteditable=\"true\"></div>\n                    </div>\n                </div>\n                <div class=\"answers time\" v-show=\"form==='time'\">\n                    <div class=\"input blank\">\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"need.time.indexOf('hour') >= 0\"></span>\n                        <span class=\"hour\" v-show=\"need.time.indexOf('hour') >= 0\">时</span>\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"need.time.indexOf('minute') >= 0\"></span>\n                        <span class=\"hour\" v-show=\"need.time.indexOf('minute') >= 0\">分</span>\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"need.time.indexOf('second') >= 0\"></span>\n                        <span class=\"hour\" v-show=\"need.time.indexOf('second') >= 0\">秒</span>\n                    </div>\n                </div>\n                <div class=\"answers date\" v-show=\"form==='date'\">\n                    <div class=\"input blank\">\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"need.date.indexOf('year') >= 0\"></span>\n                        <span class=\"hour\" v-show=\"need.date.indexOf('year') >= 0\">年</span>\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"need.date.indexOf('month') >= 0\"></span>\n                        <span class=\"hour\" v-show=\"need.date.indexOf('month') >= 0\">月</span>\n                        <span class=\"blank\" contenteditable=\"true\" v-show=\"need.date.indexOf('date') >= 0\"></span>\n                        <span class=\"hour\" v-show=\"need.date.indexOf('date') >= 0\">日</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"edit\" v-show=\"editing\">\n                <div class=\"question_head\">\n                    <div class=\"question_title\" placeholder=\"请输入问题标题\" contenteditable=\"true\" @input=\"editTitle\"></div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <span class=\"description_label\">题目描述: </span>\n                <div class=\"description\" placeholder=\"请输入问题描述\" contenteditable=\"true\" @input=\"editDescription\"></div>\n                <div class=\"control\">\n                    <div class=\"button save\" @click=\"save\">3</div>\n                    <div class=\"button cancel\" @click=\"cancel\">d</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"blank_switch\">\n                    <label :for=\"'type_q' + item_id\">填空类型</label>\n                    <select :id=\"'type_q' + item_id\" :value=\"form\" @change=\"changeForm\">\n                        <option value=\"single\">单项填空</option>\n                        <option value=\"multi\">多项填空</option>\n                        <option value=\"textarea\">多行文本</option>\n                        <option value=\"time\">时间</option>\n                        <option value=\"date\">日期</option>\n                    </select>\n                </div>\n                <div class=\"answers single\" v-show=\"form==='single'\">\n                    <div class=\"suffix\">\n                        <span>单位/后缀</span>\n                        <input type=\"text\" :value=\"suffix\" @change=\"editSuffix\">\n                    </div>\n                </div>\n                <div class=\"answers multi active\" v-show=\"form==='multi'\">\n                    <div class=\"input blank\" v-for=\"question in sub_questions\" :key=\"question.index\">\n                        <i class=\"icon\" :question_id=\"question.index\" @click=\"deleteSubQuestion\">*</i>\n                        <div class=\"sub_question\" :question_id=\"question.index\" placeholder=\"输入子问题\" contenteditable=\"true\" @input=\"editSubQuestion\"></div>\n                    </div>\n                    <div class=\"input blank insert\" @click=\"insertSubQuestion\">\n                        <i class=\"icon\">&</i>\n                    </div>\n                </div>\n                <div class=\"answers textarea\" v-show=\"form==='textarea'\">\n                </div>\n                <div class=\"answers time\" v-show=\"form==='time'\">\n                    <div class=\"require_time\">\n                        <input :id=\"'hour_q' + item_id\" type=\"checkbox\" @change=\"toggleHour\"><label :for=\"'hour_q' + item_id\">时</label>\n                        <input :id=\"'minute_q' + item_id\" type=\"checkbox\" @change=\"toggleMinute\"><label :for=\"'minute_q' + item_id\">分</label>\n                        <input :id=\"'second_q' + item_id\" type=\"checkbox\" @change=\"toggleSecond\"><label :for=\"'second_q' + item_id\">秒</label>\n                    </div>\n                </div>\n                <div class=\"answers date\" v-show=\"form==='date'\">\n                    <div class=\"require_time\">\n                        <input :id=\"'year_q' + item_id\" type=\"checkbox\" @change=\"toggleYear\"><label :for=\"'year_q' + item_id\">年</label>\n                        <input :id=\"'month_q' + item_id\" type=\"checkbox\" @change=\"toggleMonth\"><label :for=\"'month_q' + item_id\">月</label>\n                        <input :id=\"'date_q' + item_id\" type=\"checkbox\" @change=\"toggleDate\"><label :for=\"'date_q' + item_id\">日</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"inner matrix\" v-if=\"type==='matrix'\">\n            <div class=\"display\" v-show=\"!editing\">\n                <div class=\"question_head\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\">{{ title }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"description\">{{ description }}</div>\n                <div class=\"control\">\n                    <div class=\"button up\" @click=\"moveUp\">{</div>\n                    <div class=\"button down\" @click=\"moveDown\">}</div>\n                    <div class=\"button edit\" @click=\"edit\">W</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers matrix\" v-if=\"form==='row'\">\n                    <table>\n                        <thead>\n                        <tr>\n                            <th></th>\n                            <th v-for=\"option in options\" :key=\"option.optionId\">{{ option.value }}</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr v-for=\"question in sub_questions\" :key=\"question.index\">\n                            <td>{{ question.title }}</td>\n                            <td v-for=\"option in options\" :key=\"option.optionId\">\n                                <input :name=\"question.title\" :value=\"option.value\" type=\"checkbox\" v-if=\"the_class==='multi'\">\n                                <input :name=\"question.title\" :value=\"option.value\" type=\"radio\" v-if=\"the_class==='single' || the_class==='score'\">\n                                <input :name=\"question.title\" :sbt=\"option.value\" type=\"text\" v-if=\"the_class==='blank'\">\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div class=\"answers matrix\" v-if=\"form==='col'\">\n                    <table>\n                        <thead>\n                        <tr>\n                            <th></th>\n                            <th v-for=\"question in sub_questions\" :key=\"question.index\">{{ question.title }}</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr v-for=\"option in options\" :key=\"option.optionId\">\n                            <td>{{ option.value }}</td>\n                            <td v-for=\"question in sub_questions\" :key=\"question.index\">\n                                <input :name=\"question.title\" :value=\"option.value\" type=\"checkbox\" v-if=\"the_class==='multi'\">\n                                <input :name=\"question.title\" :value=\"option.value\" type=\"radio\" v-if=\"the_class==='single' || the_class==='score'\">\n                                <input :name=\"question.title\" :value=\"option.value\" type=\"text\" v-if=\"the_class==='blank'\">\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            <div class=\"edit\" v-show=\"editing\">\n                <div class=\"question_head\">\n                    <div class=\"question_title\" placeholder=\"请输入问题标题\" contenteditable=\"true\" @input=\"editTitle\"></div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <span class=\"description_label\">题目描述: </span>\n                <div class=\"description\" placeholder=\"请输入问题描述\" contenteditable=\"true\" @input=\"editDescription\"></div>\n                <div class=\"control\">\n                    <div class=\"button save\" @click=\"save\">3</div>\n                    <div class=\"button cancel\" @click=\"cancel\">d</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"matrix_switch\">\n                    <label :for=\"'class_q' + item_id\">矩阵类型</label>\n                    <select :id=\"'class_q' + item_id\" :value=\"the_class\" @change=\"changeClass\">\n                        <option value=\"single\" selected>矩阵单选</option>\n                        <option value=\"multi\">矩阵多选</option>\n                        <option value=\"blank\">矩阵填空</option>\n                        <option value=\"score\">矩阵评分</option>\n                    </select>\n                </div>\n                <div class=\"answers matrix\" v-if=\"form==='row'\">\n                    <table>\n                        <thead>\n                        <tr>\n                            <th></th>\n                            <th></th>\n                            <th class=\"delete-icon\" v-for=\"option in options\" :key=\"option.optionId\"  :option_id=\"option.optionId\" @click=\"deleteOption\">*</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr>\n                            <td></td>\n                            <td class=\"inputs\"></td>\n                            <td class=\"inputs\" placeholder=\"输入选项\" contenteditable=\"true\" v-for=\"option in options\" :key=\"option.optionId\" :option_id=\"option.optionId\" @input=\"editOption\"></td>\n                            <td class=\"insert-icon\" @click=\"insertOption\">&</td>\n                        </tr>\n                        <tr v-for=\"question in sub_questions\" :key=\"question.index\">\n                            <td class=\"delete-icon\" @click=\"deleteSubQuestion\" :question_id=\"question.index\">*</td>\n                            <td class=\"inputs\" placeholder=\"输入子问题\" contenteditable=\"true\" :question_id=\"question.index\" @input=\"editSubQuestion\"></td>\n                            <td v-for=\"option in options\" :key=\"option.optionId\">\n                                <input :name=\"question.index\" type=\"checkbox\" v-if=\"the_class==='multi'\">\n                                <input :name=\"question.index\" type=\"radio\" v-if=\"the_class==='single' || the_class==='score'\">\n                                <input :name=\"question.index\" type=\"text\" v-if=\"the_class==='blank'\">\n                            </td>\n                        </tr>\n                        <tr class=\"insert\">\n                            <td></td>\n                            <td class=\"insert-icon\" @click=\"insertSubQuestion\">&</td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div class=\"answers matrix\" v-if=\"form==='col'\">\n                    <table>\n                        <thead>\n                        <tr>\n                            <th></th>\n                            <th></th>\n                            <th class=\"delete-icon\" v-for=\"question in sub_questions\" :key=\"question.index\"  :question_id=\"question.index\" @click=\"deleteSubQuestion\">*</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr class=\"prefix\" @mousedown=\"dragPrefix\">\n                        <td></td>\n                        <td></td>\n                        <td v-for=\"question in sub_questions\" :key=\"question.index\" :question_id=\"question.index\" @input=\"editPrefix\" class=\"edit-prefix\"></td>\n                        </tr>\n                        <tr>\n                            <td></td>\n                            <td class=\"inputs\"></td>\n                            <td class=\"inputs\" placeholder=\"输入子问题\" contenteditable=\"true\" v-for=\"question in sub_questions\" :key=\"question.index\" :question_id=\"question.index\" @input=\"editSubQuestion\"></td>\n                            <td class=\"insert-icon\" @click=\"insertSubQuestion\">&</td>\n                        </tr>\n                        <tr v-for=\"option in options\" :key=\"option.optionId\">\n                            <td class=\"delete-icon\" @click=\"deleteOption\" :option_id=\"option.optionId\">*</td>\n                            <td class=\"inputs\" placeholder=\"输入选项\" contenteditable=\"true\" :option_id=\"option.optionId\" @input=\"editOption\"></td>\n                            <td v-for=\"question in sub_questions\" :key=\"question.index\">\n                                <input :name=\"question.index\" type=\"checkbox\" v-if=\"the_class==='multi'\">\n                                <input :name=\"question.index\" type=\"radio\" v-if=\"the_class==='single' || the_class==='score'\">\n                                <input :name=\"question.index\" type=\"text\" v-if=\"the_class==='blank'\">\n                            </td>\n                        </tr>\n                        <tr class=\"insert\">\n                            <td></td>\n                            <td class=\"insert-icon\" @click=\"insertOption\">&</td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <div class=\"inner score\" v-if=\"type==='score'\">\n            <div class=\"display\" v-show=\"!editing\">\n                <div class=\"question_head\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\">{{ title }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"description\">{{ description }}</div>\n                <div class=\"control\">\n                    <div class=\"button up\" @click=\"moveUp\">{</div>\n                    <div class=\"button down\" @click=\"moveDown\">}</div>\n                    <div class=\"button edit\" @click=\"edit\">W</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers score\">\n                    <div class=\"score\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <input :id=\"'checks_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"radio\" :value=\"option.value\" @change=\"mark\">\n                        <label :for=\"'checks_q' + item_id + '_op' + option.optionId\">\n                            <span>{{ option.value }}</span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class=\"edit\" v-show=\"editing\">\n                <div class=\"question_head\">\n                    <div class=\"question_title\" placeholder=\"请输入问题标题\" contenteditable=\"true\" @input=\"editTitle\"></div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <span class=\"description_label\">题目描述: </span>\n                <div class=\"description\" placeholder=\"请输入问题描述\" contenteditable=\"true\" @input=\"editDescription\"></div>\n                <div class=\"control\">\n                    <div class=\"button save\" @click=\"save\">3</div>\n                    <div class=\"button cancel\" @click=\"cancel\">d</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"score_switch\">\n                    <label :for=\"'form_q' + item_id\">显示形式</label>\n                    <select :id=\"'form_q' + item_id\" :value=\"form\" @change=\"changeForm\">\n                        <option value=\"number\">分数</option>\n                        <option value=\"text\">文字描述</option>\n                        <option value=\"img\">图形</option>\n                    </select>\n                </div>\n                <div class=\"answers score\">\n                    <div class=\"input score\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <i class=\"icon\" :option_id=\"option.optionId\" @click=\"deleteOption\">*</i>\n                        <span class=\"title_prefix\">文字描述</span>\n                        <div class=\"score_title\" placeholder=\"输入分数描述\" contenteditable=\"true\" :option_id=\"option.optionId\" @input=\"editOption\"></div>\n                        <span class=\"number_prefix\">分数</span>\n                        <div :option_id=\"option.optionId\" placeholder=\"分数\" class=\"score_number\" contenteditable=\"true\" @input=\"editScore\"></div>\n                    </div>\n                    <div class=\"input score insert\" @click=\"insertOption\">\n                        <i class=\"icon\">&</i>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"inner sort\" v-if=\"type==='sort'\">\n            <div class=\"display\" v-show=\"!editing\">\n                <div class=\"question_head\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\">{{ title }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"description\">{{ description }}</div>\n                <div class=\"control\">\n                    <div class=\"button up\" @click=\"moveUp\">{</div>\n                    <div class=\"button down\" @click=\"moveDown\">}</div>\n                    <div class=\"button edit\" @click=\"edit\">W</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"answers sort\" v-show=\"form === 'click'\">\n                    <div class=\"sort\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <input :id=\"'checks_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"checkbox\" :value=\"option.value\" @change=\"sort\">\n                        <label :for=\"'checks_q' + item_id + '_op' + option.optionId\" class=\"first\">\n                            <span>{{ option.value }}</span>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"answers sort\" v-show=\"form === 'cols'\">\n                    <div class=\"to-sort\">\n                        <div class=\"sort\" v-for=\"option in options\" :key=\"option.optionId\">\n                            <input :id=\"'checks_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"checkbox\" :value=\"option.value\" @change=\"sort\">\n                            <label :for=\"'checks_q' + item_id + '_op' + option.optionId\" class=\"first\">\n                                <span>{{ option.value }}</span>\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"sorted\">\n                        <div class=\"sort\" v-for=\"option in options\" :value=\"option\"></div>\n                    </div>\n                </div>\n                <div class=\"answers sort\" v-show=\"form === 'drag'\">\n                    <div class=\"sort\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <input :id=\"'checks_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"checkbox\" :value=\"option.value\" @change=\"sort\">\n                        <label :for=\"'checks_q' + item_id + '_op' + option.optionId\" class=\"first\">\n                            <span>{{ option.value }}</span>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"answers sort\" v-show=\"form === 'mark'\">\n                    <div class=\"sort\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <input :id=\"'checks_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"checkbox\" :value=\"option.value\" @change=\"sort\">\n                        <label :for=\"'checks_q' + item_id + '_op' + option.optionId\" class=\"first\">\n                            <span>{{ option.value }}</span>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"answers sort\" v-show=\"form === 'input'\">\n                    <div class=\"sort\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <input :id=\"'checks_q' + item_id + '_op' + option.optionId\" :name=\"'q' + item_id\" type=\"checkbox\" :value=\"option.value\" @change=\"sort\">\n                        <label :for=\"'checks_q' + item_id + '_op' + option.optionId\" class=\"first\">\n                            <span>{{ option.value }}</span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class=\"edit\" v-show=\"editing\">\n                <div class=\"question_head\">\n                    <div class=\"question_title\" placeholder=\"请输入问题标题\" contenteditable=\"true\" @input=\"editTitle\"></div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <span class=\"description_label\">题目描述: </span>\n                <div class=\"description\" placeholder=\"请输入问题描述\" contenteditable=\"true\" @input=\"editDescription\"></div>\n                <div class=\"control\">\n                    <div class=\"button save\" @click=\"save\">3</div>\n                    <div class=\"button cancel\" @click=\"cancel\">d</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n                <div class=\"sort_switch\">\n                    <label :for=\"'form_q' + item_id\">显示形式</label>\n                    <select :id=\"'form_q' + item_id\" :value=\"form\" @change=\"changeForm\">\n                        <option value=\"click\">点击</option>\n                        <option value=\"cols\">分栏</option>\n                        <option value=\"drag\">拖拽</option>\n                        <option value=\"mark\">打分</option>\n                        <option value=\"input\">输入</option>\n                    </select>\n                </div>\n                <div class=\"answers sort\">\n                    <div class=\"input sort\" v-for=\"option in options\" :key=\"option.optionId\">\n                        <i class=\"icon\" :option_id=\"option.optionId\" @click=\"deleteOption\">*</i>\n                        <span class=\"sort_prefix\">文字描述</span>\n                        <div class=\"sort_title\" placeholder=\"输入选项\" contenteditable=\"true\" :option_id=\"option.optionId\" @input=\"editOption\"></div>\n                    </div>\n                    <div class=\"input sort insert\" @click=\"insertOption\">\n                        <i class=\"icon\">&</i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n`,\n    message =\n       `<div class=\"inners\" :id=\"'q' + item_id\" v-if=\"type instanceof Array\">\n            <div class=\"inner message name\">\n\n                <div class=\"question_head name display\" v-if=\"type.indexOf('name') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"name\">{{ title.name }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head name edit\" v-if=\"type.indexOf('name') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"name\">请输入姓名</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers name\" v-if=\"type.indexOf('name') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head sex display\" v-if=\"type.indexOf('sex') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"sex\">{{ title.sex }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head sex edit\" v-if=\"type.indexOf('sex') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"sex\">请输入性别</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers sex\" v-if=\"type.indexOf('sex') > -1\">\n                    <div class=\"input choice\">\n                        <input :id=\"'radio_q' + item_id + '_op1'\" :name=\"'q' + item_id + 'sex'\" type=\"radio\" value=\"男\" @change=\"check\">\n                        <label :for=\"'radio_q' + item_id + '_op1'\">\n                            <i class=\"icon\"><span></span></i>\n                            <span class=\"option_text\">男</span>\n                        </label>\n                    </div>\n                    <div class=\"input choice\">\n                        <input :id=\"'radio_q' + item_id + '_op2'\" :name=\"'q' + item_id + 'sex'\" type=\"radio\" value=\"女\" @change=\"check\">\n                        <label :for=\"'radio_q' + item_id + '_op2'\">\n                            <i class=\"icon\"><span></span></i>\n                            <span class=\"option_text\">女</span>\n                        </label>\n                    </div>\n                </div>\n\n                <div class=\"question_head age display\" v-if=\"type.indexOf('age') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"age\">{{ title.age }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head age edit\" v-if=\"type.indexOf('age') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"age\">请输入年龄</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers age\" v-if=\"type.indexOf('age') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head telephone display\" v-if=\"type.indexOf('telephone') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"telephone\">{{ title.telephone }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head telephone edit\" v-if=\"type.indexOf('telephone') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"telephone\">请输入联系电话</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers telephone\" v-if=\"type.indexOf('telephone') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head email display\" v-if=\"type.indexOf('email') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"email\">{{ title.email }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head email edit\" v-if=\"type.indexOf('email') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"email\">请输入电子邮箱</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers email\" v-if=\"type.indexOf('email') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head company display\" v-if=\"type.indexOf('company') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"company\">{{ title.company }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head company edit\" v-if=\"type.indexOf('company') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"company\">请输入工作单位</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers company\" v-if=\"type.indexOf('company') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head job display\" v-if=\"type.indexOf('job') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"job\">{{ title.job }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head job edit\" v-if=\"type.indexOf('job') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"job\">请输入所在职位</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers job\" v-if=\"type.indexOf('job') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head industry display\" v-if=\"type.indexOf('industry') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"industry\">{{ title.industry }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head industry edit\" v-if=\"type.indexOf('industry') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"industry\">请输入所在行业</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers industry\" v-if=\"type.indexOf('industry') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head address display\" v-if=\"type.indexOf('address') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"address\">{{ title.address }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head address edit\" v-if=\"type.indexOf('address') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"address\">请输入通讯地址</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers address\" v-if=\"type.indexOf('address') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head highschool display\" v-if=\"type.indexOf('highschool') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"highschool\">{{ title.highschool }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head highschool edit\" v-if=\"type.indexOf('highschool') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"highschool\">请输入毕业院校</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers highschool\" v-if=\"type.indexOf('highschool') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head education display\" v-if=\"type.indexOf('education') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"highschool\">{{ title.highschool }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head education edit\" v-if=\"type.indexOf('highschool') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"highschool\">请输入毕业院校</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers education\" v-if=\"type.indexOf('education') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head department display\" v-if=\"type.indexOf('department') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"department\">{{ title.department }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head department edit\" v-if=\"type.indexOf('department') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"department\">请输入您所在的科室</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers department\" v-if=\"type.indexOf('department') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head hospitallevel display\" v-if=\"type.indexOf('hospitallevel') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"hospitallevel\">{{ title.hospitallevel }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head hospitallevel edit\" v-if=\"type.indexOf('hospitallevel') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"hospitallevel\">请输入您所在医院的级别</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers hospitallevel\" v-if=\"type.indexOf('hospitallevel') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"question_head titlelevel display\" v-if=\"type.indexOf('titlelevel') > -1\" v-show=\"!editing\">\n                    <span class=\"question_index\">\n                        <span class=\"index\">{{ ordericon || index }}</span>.\n                    </span>\n                    <span class=\"question_title\" name=\"titlelevel\">{{ title.titlelevel }}</span>\n                    <span class=\"question_require\" v-show=\"required\">*</span>\n                </div>\n                <div class=\"question_head titlelevel edit\" v-if=\"type.indexOf('titlelevel') > -1\" v-show=\"editing\">\n                    <div class=\"question_title\" contenteditable=\"true\" @input=\"editTitle\" name=\"titlelevel\">请输入您当前的职称级别</div>\n                    <span class=\"question_require\">\n                        <input type=\"checkbox\" :id=\"'require_q' + item_id\" :checked=\"required\" @change=\"editRequired\">\n                        <label :for=\"'require_q' + item_id\">\n                            <i class=\"icon checked\"></i>\n                            <span>必答</span>\n                        </label>\n                    </span>\n                </div>\n                <div class=\"answers titlelevel\" v-if=\"type.indexOf('titlelevel') > -1\">\n                    <div class=\"input\">\n                        <span class=\"blank\" contenteditable=\"true\"></span>\n                    </div>\n                </div>\n\n                <div class=\"control\">\n                    <div class=\"button up\" @click=\"moveUp\">{</div>\n                    <div class=\"button down\" @click=\"moveDown\">}</div>\n                    <div class=\"button save\" @click=\"save\" v-show=\"editing\">3</div>\n                    <div class=\"button edit\" @click=\"edit\" v-show=\"!editing\">W</div>\n                    <div class=\"button delete\" @click=\"deleteQ\">#</div>\n                    <div class=\"button logic\" @click=\"logic\">%</div>\n                </div>\n            </div>\n        </div>\n    `;\n\nVue.component('node',{\n\n    props:['index', 'ordericon','item_id','title','type','form','the_class','description','required','editing','options','words_restrict', 'suffix','sub_questions','need','jump','depend','quote','relate','evaluate'],\n\n    template: component,\n\n    methods: {\n\n        moveUp: function(e){\n\n            this.$emit('move_up',e)\n        },\n        moveDown: function(e){\n\n            this.$emit('move_down',e)\n        },\n        edit: function(e){\n\n            this.$emit('edit',e)\n        },\n        deleteQ: function(e){\n\n            this.$emit('delete_q',e)\n        },\n        logic: function(e){\n\n            this.$emit('logic',e)\n        },\n        save: function(e){\n\n            this.$emit('save',e)\n        },\n        cancel: function(e){\n\n            this.$emit('cancel',e)\n        },\n        editTitle: function(e){\n\n            this.$emit('edit_title',e)\n        },\n        editRequired: function(e){\n\n            this.$emit('edit_required',e)\n        },\n        editDescription: function(e){\n\n            this.$emit('edit_description',e)\n        },\n        deleteOption: function(e){\n\n            this.$emit('delete_option',e)\n        },\n        editOption: function(e){\n\n            this.$emit('edit_option',e)\n        },\n        editFillable: function(e){\n\n            this.$emit('edit_fillable',e)\n        },\n        insertOption: function(e){\n\n            this.$emit('insert_option',e)\n        },\n        check: function(e){\n\n            this.$emit('check',e)\n        },\n        sort: function(e){\n\n            this.$emit('sort',e)\n        },\n        changeForm: function(e){\n\n            this.$emit('change_form',e)\n        },\n        changeClass: function(e){\n\n            this.$emit('change_class',e)\n        },\n        deleteSubQuestion: function(e){\n\n            this.$emit('delete_sub_question',e)\n        },\n        editSuffix: function(e){\n            this.$emit('edit_suffix', e)\n        },\n        editSubQuestion: function(e){\n\n            this.$emit('edit_sub_question',e)\n        },\n        dragPrefix: function(e){\n            this.$emit('drag_prefix',e)\n        },\n        editPrefix: function(e){\n            this.$emit('edit_prefix',e)\n        },\n        insertSubQuestion: function(e){\n\n            this.$emit('insert_sub_question',e)\n        },\n        toggleHour: function(e){\n\n            this.$emit('toggle_hour',e)\n        },\n        toggleMinute: function(e){\n\n            this.$emit('toggle_minute',e)\n        },\n        toggleSecond: function(e){\n\n            this.$emit('toggle_second',e)\n        },\n        toggleYear: function(e){\n\n            this.$emit('toggle_year',e)\n        },\n        toggleMonth: function(e){\n\n            this.$emit('toggle_month',e)\n        },\n        toggleDate: function(e){\n\n            this.$emit('toggle_date',e)\n        },\n        mark: function(e){\n\n            this.$emit('mark',e)\n        },\n        editScore: function(e){\n\n            this.$emit('edit_score',e)\n        }\n    }\n});\n\nVue.component('message',{\n    props: ['item_id','index', 'required', 'ordericon', 'editing', 'title','type','description', 'depend'],\n    template: message,\n    methods: {\n        moveUp: function(e){\n\n            this.$emit('move_up',e)\n        },\n        moveDown: function(e){\n\n            this.$emit('move_down',e)\n        },\n        edit: function(e){\n\n            this.$emit('edit',e)\n        },\n        save: function(e){\n\n            this.$emit('save',e)\n        },\n        editTitle: function(e){\n\n            this.$emit('edit_title',e)\n        },\n        editDescription: function(e){\n\n            this.$eimt('edit_description',e)\n        },\n        editRequired: function(e){\n\n            this.$emit('edit_required',e)\n        },\n        deleteQ: function(e){\n\n            this.$emit('delete_q',e)\n        },\n        logic: function(e){\n\n            this.$emit('logic',e)\n        },\n        check: function(e){\n\n            this.$emit('check',e)\n        }\n    }\n});\n\n\n// WEBPACK FOOTER //\n// ./unpacked/kolpanel/template.js","/**\n * Created by wangxiangyang on 2017/9/27.\n */\n//取主域名路径\n\n//引入realPath\nimport realPath from './realPath.js';\n//引入template(直接执行)\nimport template from './template.js';\n\n//引入analyze(直接执行)\nimport analyze from './analyze.js';\n\n//引入createItem\nimport createItem from './createItem.js';\n//暴露接口\nconst createQuestion = createItem.createQuestion,\n\n    createMatrixQuestion = createItem.createMatrixQuestion,\n\n    createMessage = createItem.createMessage,\n\n    drawQuestion = createItem.drawQuestion;\n\n//引入setui\nimport setui from './setui.js';\n//暴露接口\nconst renderCollectControl = setui.renderCollectControl,\n\n    renderAllocateControl = setui.renderAllocateControl,\n\n    prepareForProgressControl = setui.prepareForProgressControl,\n    renderProgressControl = setui.renderProgressControl,\n\n    prepareForQualityControl = setui.prepareForQualityControl,\n    renderQualityControl = setui.renderQualityControl;\n\n//sessionStorage.setItem('surveyName', '7389091');\n\n//if(sessionStorage.getItem(\"surveyName\")==null){\n//     location.href = realPath + \"/wjLogin\";\n// } else {\n//    $('#header .signin .name').text(sessionStorage.getItem(\"surveyName\"))\n//}\n\n\n//左侧菜单的点击显示\nfunction spreadMenu(e){\n    var $menuBox = $(document.createElement('div'));\n    $menuBox.attr('id', 'menu_box');\n\n    $menuBox.css('position', 'absolute');\n    $menuBox.css('top', '0');\n    $menuBox.css('right', '0');\n\n    $menuBox.css('display', 'block');\n    $menuBox.css('width', '72px');\n    $menuBox.css('height', '36px');\n\n    $menuBox.css('padding', '36px 12px 12px 12px');\n    $menuBox.css('overflow', 'scroll');\n\n    $menuBox.css('background-color', '#ffffff');\n    $menuBox.css('border', '1px solid #e9e9e9');\n\n    var $left = $('#left');\n    $left.append($menuBox);\n\n    var wi = $left.css('width'),\n        hi = $left.css('height');\n\n    $menuBox.animate({width: wi, height: hi}, 300 ,function(){\n        listQuestion();\n        $('#menu').off('click').on('click', packUp)\n    })\n}\n\n//收起目录\nfunction packUp(event){\n    var $menuBox = $('#menu_box'),\n        t = $(event.target);\n    $menuBox.animate({width: '72px', height: '36px'}, 300, function(){$menuBox.remove()});\n    submit();\n    t.off('click');\n    $('#menu').on('click',spreadMenu);\n}\n\n//将目录展示出来\nfunction listQuestion(){\n\n    let box = $('#menu_box'),\n        list = $(`<div id=\"menulist\"></div>`),\n        qs = questions,\n        l = qs.length,\n        i;\n\n    for (i = 0; i < l; i++){\n\n        let q = qs[i],\n            active = q.active,\n            order = q.ordericon || q.index;\n\n        if (active){\n            list.append(`\n        <div class=\"menu-item\" index=\"`+ q.index +`\" itemid=\"`+ q.itemId +`\">\n            <span class=\"index\" index=\"`+ q.index +`\" ordericon=\"`+ q.ordericon +`\">`+ order +`</span>\n            <span class=\"title\" title=\"`+ q.title +`\">`+ q.title +`</span>\n            <i class=\"skip\"></i>\n        </div>\n        `)\n        }\n    }\n    box.append(list)\n}\n\n//点击skip跳转到相应题目\nfunction skipToItem(event){\n\n    var itemId = $(event.target).parent().attr('itemid'),\n        item = $('#q' + itemId),\n        inner = item.find('.inner'),\n        wrap = $('#wrap');\n\n    item[0].scrollIntoView();\n    inner.addClass('skip-target');\n    setTimeout(function(){inner.removeClass('skip-target')},1500);\n    wrap.off('click', packUp).on('click', packUp)\n}\n\n//点击事件<元素变为可编辑+将值赋予到placeholder上+聚焦+添加类+绑定失焦事件>\nfunction contenteditableToggle(event){\n\n    let t = $(event.target);\n        //holder = t.attr('ordericon') || t.attr('index') || t.attr('title');\n\n    t.prop('contenteditable', true)\n        .addClass('editing')//添加样式class\n        //.empty()\n        //.attr('placeholder', holder);\n        .focus()\n}\n\n//失焦事件<元素变为不可编辑+填充text()+判断现有值是否和index相同(即是否有变动)并赋予变量+移除类>\nfunction fixQ(event){\n\n    let t = $(event.target),//目标\n        p = t.parent(),//父元素.menu-item\n        itemId = p.attr('itemid'),//用于在questions中定位q\n        q = questions[itemId-1],\n        index = p.attr('index'),\n        v = t.text(),\n        vd = v.replace(/(^\\s*)|(\\s*$)/g, '');//去空格\n\n    t.prop('contenteditable', false)\n        .removeClass('editing');//移除样式class\n        //.attr('placeholder','');\n\n    if (t.text()){//如果用户输入了值\n\n        t.text(vd);//填充去前后空格之后的内容\n\n        if (t.hasClass('index')){//如果是序号栏\n\n            if (parseInt(vd) !== index){//如果序号栏内容有变更\n                q.ordericon = vd;\n                t.attr('ordericon', vd);//更新属性值\n            }\n        } else {\n            q.title = vd;\n            t.attr('title', vd);//更新属性值\n\n            $('#q' + itemId).find('.edit .question_title').text(vd);//手动更新编辑界面的title\n        }\n    } else if (t.hasClass('index')){\n        t.text(q.ordericon || q.index)\n    } else if (t.hasClass('title')){\n        t.text(q.title)\n    }\n}\n\n//当按回车键时,触发blur\nfunction confirmFix(event){\n    if (event.keyCode === 13){\n        $(event.target).blur()\n    }\n}\n\n//输入框的placeholder聚焦和失焦\nfunction clearHolder(e){\n\n    var t = $(this),\n        h = t.attr('placeholder');\n\n    t.attr('placeholder', '');\n\n    function fillHolder(e){\n\n        var t = $(this);\n\n        t.attr('placeholder', h);\n\n        t.off('blur')\n    }\n\n    t.on('blur', fillHolder)\n}\n\n//进度状态切换显示\nfunction switchProcess(e){\n\n    let t = $(this);\n\n    if(!t.hasClass('active')){\n\n        t.addClass('active').siblings('li').removeClass('active');\n\n        var left = $('#left'),\n            analysis = $('#analysis'),\n            setUi = $('#set_ui');\n\n        if (t.hasClass('design')){\n\n            left.find('.design').addClass('active').siblings('.side').removeClass('active');\n            analysis.css('display','none');\n            setUi.css('display', 'none');\n\n        } else if (t.hasClass('set')){\n\n            left.find('.set').addClass('active').siblings('.side').removeClass('active');\n            analysis.css('display','none');\n            setUi.css('display', 'block');\n            renderCollectControl();\n\n        } else if (t.hasClass('analyze')){\n\n            left.find('.analyze').addClass('active').siblings('.side').removeClass('active');\n            setUi.css('display', 'none');\n            analysis.css('display','block');\n            //displayAnalyze()\n        }\n    }\n}\n\n//左边栏的点击事件切换显示状态方法\nfunction switchBars(e){\n\n    var t = $(this);\n\n    if (t.hasClass('active')){\n\n        return\n\n    } else if (t.hasClass('finally')){\n            return\n    } else {\n        t.addClass('active').siblings('.tag').removeClass('active')\n    }\n\n    //渲染右侧\n    let set_ui = $('#set_ui');\n    if (t.hasClass('allocate-control')){//进度界面\n        set_ui.find('.set.allocate').css('display','block');\n        renderAllocateControl()\n    } else {\n        set_ui.find('.set.allocate').css('display','none');\n    }\n    if (t.hasClass('progress-control')){//进度界面\n        prepareForProgressControl()\n    } else {\n        set_ui.find('.set.progress').css('display','none');\n    }\n    if (t.hasClass('quality-control')){//质控界面\n        prepareForQualityControl()\n    } else {\n        set_ui.find('.set.quality').css('display','none');\n    }\n    if (t.hasClass('collect-control')){//总设置界面\n        set_ui.find('.set').css('display','none')\n    }\n\n    if (t.hasClass('first')){\n\n        if (!t.siblings().is('animated') || !t.is('animated')){\n\n            t.siblings('.bar').removeClass('active');\n\n            t.siblings('.tag.fifth').css('top','').animate({bottom: '0'},100);\n            t.siblings('.tag.forth').css('top','').animate({bottom: '36px'},100);\n            t.siblings('.tag.third').css('top','').animate({bottom: '72px'},100);\n            t.siblings('.tag.second').css('top','').animate({bottom: '108px'},100, function(){\n\n                t.siblings('.bar.first').addClass('active')\n            });\n        }\n    } else if (t.hasClass('second')){\n\n        if (!t.siblings().is('animated') || !t.is('animated')){\n\n            t.siblings('.bar').removeClass('active');\n            t.css('bottom','').animate({top: '36px'},100);\n            t.siblings('.tag.fifth').css('top','').animate({bottom: '0'},100);\n            t.siblings('.tag.forth').css('top','').animate({bottom: '36px'},100);\n            t.siblings('.tag.third').css('top','').animate({bottom: '72px'},100, function(){\n\n                t.siblings('.bar.second').addClass('active')\n            });\n        }\n\n    } else if (t.hasClass('third')){\n\n        if (!t.siblings().is('animated') || !t.is('animated')){\n\n            t.siblings('.bar').removeClass('active');\n\n            t.siblings('.tag.second').css('bottom','').animate({top: '36px'},100);\n            t.css('bottom','').animate({top: '72px'},100);\n            t.siblings('.tag.fifth').css('top','').animate({bottom: '0'},100);\n            t.siblings('.tag.forth').css('top','').animate({bottom: '36px'},100, function(){\n\n                t.siblings('.bar.third').addClass('active')\n            });\n        }\n\n    } else if (t.hasClass('forth')){\n\n        if (!t.siblings().is('animated') || !t.is('animated')){\n\n            t.siblings('.bar').removeClass('active');\n\n            t.siblings('.tag.second').css('bottom','').animate({top: '36px'},100);\n            t.siblings('.tag.third').css('bottom','').animate({top: '72px'},100);\n            t.css('bottom','').animate({top: '108px'},100);\n            t.siblings('.tag.fifth').css('top','').animate({bottom: '0'},100, function(){\n\n                t.siblings('.bar.forth').addClass('active')\n            })\n        }\n    } else {\n\n        if (!t.siblings().is('animated') || !t.is('animated')){\n\n            t.siblings('.bar').removeClass('active');\n\n            t.siblings('.tag.second').css('bottom','').animate({top: '36px'},100);\n            t.siblings('.tag.third').css('bottom','').animate({top: '72px'},100);\n            t.siblings('.tag.forth').css('bottom','').animate({top: '108px'},100);\n            t.css('bottom','').animate({top: '144px'},100, function(){\n\n                t.siblings('.bar.fifth').addClass('active')\n            })\n        }\n    }\n}\n\n//矩阵题型可视化\nfunction drawMatrix(e){\n\n    var t = $(this);\n    window.row = t.attr('row');\n    window.col = t.attr('col');\n\n    t.css('background-color', '#999999')\n        .parent().siblings('.count').find('.cols').text(col);\n    t.parent().siblings('.count').find('.rows').text(row);\n\n    t.siblings('.cell').each(function(){\n\n        if ($(this).attr('row') <= row && $(this).attr('col') <= col){\n\n            $(this).css('background-color', '#999999')\n        } else {\n\n            $(this).css('background-color', 'transparent')\n        }\n    })\n}\n\nfunction createMatrix(e){\n\n    var t = $(this);\n}\n\nfunction cleanDrawMatrix(e){\n\n    var t = $(this);\n\n    window.row = '0';\n    window.col = '0';\n\n    t.find('.cell').css('background-color','transparent');\n    t.siblings('.count').find('.cols').text('0');\n    t.siblings('.count').find('.rows').text('0');\n}\n\n//左边栏选中信息题型的勾选框样式变化\nfunction changeChecks(e){\n\n    var t = $(this);\n\n    if (t.prop('checked') === true){\n\n        t.siblings().find('.icon').addClass('active')\n\n    } else {\n\n        t.siblings().find('.icon').removeClass('active')\n    }\n}\n\n//左侧选中颜色的勾选方法\nfunction pickColor(e){\n\n    var t = $(this),\n        v = t.val(),\n        css = 'repeating-linear-gradient(60deg,#ffffff, #ffffff 10px, '+ v +' 0, ' + v +' 20px)';\n\n    if (t.prop('checked')){\n        $('#colors').find('label').removeClass('picked');\n        t.siblings('label').addClass('picked');\n        $('#edge').css('background', css)\n    }\n}\n\n//清理数据\nfunction cleanData(data){\n    for (let i in data){\n        if (i == 'question_list' || i == 'options'){\n            data[i] = null\n        }\n        if (typeof data[i] === 'object'){\n            cleanData(data[i])\n        }\n    }\n}\n\n//问卷提交保存方法\nfunction submit(event){\n    //打包数据\n    if (window.sets){\n        cleanData(sets);\n    } else {\n        sets = {}\n    }\n\n    var details = {\n        survey: sessionStorage.getItem('surveyId') || '',\n        email: sessionStorage.getItem('surveyName') || '571029031@qq.com',\n        titles: {\n            title: $('#title>span').text()\n        },\n        subtitle: {\n            subtitle: $('#subtitle>span').text()\n        },\n        sets: sets,\n        style: {\n            color: $('input[name=color]:checked').val()\n        },\n        list: questions\n    };\n    //提交保存\n    $.ajax({\n        url:  \"\" + realPath + \"/questionnaire/add\",\n        type: 'post',\n        contentType: 'application/json;charset=utf',\n        dataType: 'json',\n        async: true,\n        data: JSON.stringify(details),\n        success: function(d){\n            if (d[0].error_code =='success'){\n                if ($(event.target).attr('id') === 'submit'){\n                    warnSuccess(d[0].result);\n                }\n            } else if(d[0].error_code =='login'){\n                window.location.href = realPath+\"/wjLogin\";\n            }else {\n                warnFailed()\n            }\n        },\n        error: function(e){\n            warnConnectedFailed()\n        }\n    })\n}\n\n//请求成功\nfunction warnSuccess(data){\n\n    window.warn_success = $(document.createElement('div'));\n\n    warnRender(warn_success, '保存成功');\n    sessionStorage.setItem(\"link\", realPath+\"/display?wj=\"+data);\n    window.location.href = realPath+\"/html/kolpanel/PublicLink.html\";\n}\n\n//请求失败的警告\nfunction warnFailed(){\n\n    window.warn_failed = $(document.createElement('div'));\n\n    warnRender(warn_failed, '保存失败');\n}\n\n//连接失败的警告\nfunction warnConnectedFailed(){\n\n    window.warn_connected_failed = $(document.createElement('div'));\n\n    warnRender(warn_connected_failed, '连接失败,请稍后再试')\n}\n\n//警告渲染\nfunction warnRender(obj,str){\n\n    obj.text(str);\n\n    var l = (str.length * 1.2 + 4) + 'rem';\n\n    obj.css('width', l);\n\n    obj.css('position','fixed');\n    obj.css('left',getSize()[0] / 2 - 60 + 'px');\n    obj.css('top',getSize()[0] / 2 - 15 + 'px');\n    obj.css('display','none');\n    obj.css('height','30px');\n    obj.css('background-color','rgba(255,250,240,0.7)');\n    obj.css('box-shadow','0 0 1px 0 #c9c9c9');\n    obj.css('outline','1px solid #d9d9d9');\n    obj.css('outline-offset','-3px');\n    obj.css('text-align','center');\n    obj.css('font-size','1.2rem');\n    obj.css('line-height','30px');\n    obj.css('z-index','1200');\n\n    $('#survey_container').append(obj);\n    obj.fadeIn(700);\n\n    var warnDisappear = setTimeout(function(){\n        obj.fadeOut(500, function(){\n            var warnRemove = setTimeout(function(){\n                obj.remove();\n                obj = null\n            },700)\n        });\n    }, 3000)\n}\n\n//当在题目上点击鼠标时,题目进入编辑状态\nfunction quickEdit(event){\n\n    if ($(event.target).hasClass('button')){\n        return false\n    }\n    var thisVue = vues[$(event.currentTarget).attr('id').slice(1)-1],\n        editing = thisVue.editing,\n        edit = thisVue.edit;\n\n    if (!editing){\n        edit()\n    }\n}\n\n//当按command+enter或ctrl+enter时,触发题目的save方法\nfunction quickSave(event){\n\n    if (event.keyCode === 13){\n        if (event.ctrlKey || event.metaKey){\n            vues[$(event.currentTarget).attr('id').slice(1)-1].save();\n        }\n    }\n}\n\n//当将要被关闭时,弹出确定框\nfunction confirmClose(e){\n    e.returnValue('问卷数据将被清空.确定离开此页面吗?')\n}\n\n//取得当前浏览器的尺寸\nfunction getSize(){\n\n    return(\n        [window.innerWidth,window.innerHeight]\n    )\n}\n\n//清空sessionStorage\nfunction clearSession(){\n    sessionStorage.removeItem('surveyId');\n//    sessionStorage.removeItem('designNow')\n}\n\n//质量控制操作-invalid\nfunction invalidResult(event){\n    let c = $('#container'),\n        t = $(this),\n        r = t.find('.reason'),\n        v = t.find('.invalid-with-reason');\n    if (!t.is('animated') && r.css('display') === 'none'){\n\n        c.off('click');\n\n        function afterBlur(event){\n            if (!t.is('animated')){\n                v.on('click', invalidSubmit)\n                    .animate({right: '3.5px'});\n                r.animate({width: '0'},100, function(){\n                    r.css('display', 'none')\n                        .off('blur')\n                        .off('keypress');\n                    v.off('click')\n                        .removeClass('btn');\n                });\n                t.animate({width: '45px'},100, function(){\n                    t.animate({width: '30px'}, 50, function(){\n                        t.addClass('btn');\n                        c.on('click', '.invalid', invalidResult)\n                    })\n                })\n            }\n        }\n\n        function invalidSubmit(event){\n            let reason = r.val();\n            if (reason.replace(/\\s/g, '')){\n                $.ajax({\n                    url: realPath + '/questionnaire/wjUnqualified',\n                    type: 'post',\n                    contentType: 'application/json;charset=utf-8',\n                    dataType: 'json',\n                    async: true,\n                    data: {\n                        sitId: v.attr('result_id'),\n                        sitDescribe: r.val()\n                    },\n                    success: function(data){\n                        if (data[0].error_code === 'success'){\n                            let results = result_list.results,\n                                resultId = parseInt(v.attr('result_id')),\n                                result;\n                            for (let i = 0,l = results.length; i < l; i++){\n                                if (results[i].resultId === resultId){\n                                    result = results[i]\n                                }\n                            }\n                            result.availability = 0;\n                            result.reason = r.val()\n\n\n                        }\n                    }\n                });\n            }\n        }\n\n        function excuteSubmit(event){\n            if (event.keyCode === 13){\n                invalidSubmit(event)\n            }\n        }\n\n        t.removeClass('btn')\n            .animate({width: '45px'},50, function(){\n                t.animate({width: '120px'},100);\n                v.animate({right: '1px'});\n                r.css('display', 'inline-block')\n                    .animate({width: '80px'}, 100, function(){\n                        r.on('blur', afterBlur)\n                            .on('keypress', excuteSubmit)\n                            .focus();\n                        v.addClass('btn')\n                    })\n            })\n    }\n}\n\n//解析已有问题\nfunction listParse(json){\n\n    $('#title').text(json.title);\n    $('#subtitle').text(json.discribe);\n    let list = json.wjQuestion,\n        surveyId = json.wjId;\n\n    window.sets = JSON.parse(json.setting);\n//    window.style = json.style;\n\n    for (let i in list){\n        let itemKey = list[i].itemId;\n        list[i] = JSON.parse(list[i].itemContent)[0];\n        list[i].surveyId = surveyId;\n    }\n    function compare(propertyName) {\n        return function(object1, object2) {\n            var value1 = object1[propertyName];\n            var value2 = object2[propertyName];\n            if (value2 < value1) {\n                return 1;\n            } else if (value2 > value1) {\n                return -1;\n            } else {\n                return 0;\n            }\n        }\n    }\n    list.sort(compare('itemId'));\n\n    for (let i in list){\n\n        let item = list[i];\n        \n        item.itemId = Number(i) + 1;\n\n        if (item.active){\n\n            var type = item.type,\n                form = item.form;\n\n            drawQuestion(type,form,item.col,item)\n        }\n    }\n    let sorting = [],\n        items = $('.inners'),\n        container = $('#survey_container');\n\n    for (let i = 0, l = items.length; i < l; i++){//现在是根据list和items交叉遍历的,在以后list中包括active=false时会出现问题\n        sorting[i] = {\n            index: list[i].index,\n            node: $(items[i]).remove()\n        }\n    }\n    sorting.sort(compare('index'));\n\n    for (let i = 0, l = sorting.length; i < l; i++){\n        container.append(sorting[i].node)\n    }\n}\n\n//如果不是初次编辑此问卷\n$(function(){\n    if (sessionStorage.getItem('surveyId')){\n        $.ajax({\n            url: realPath + '/questionnaire/UpdateObject',\n            type: 'post',\n            contentType: 'application/json;charset=utf-8',\n            dataType: 'json',\n            data:JSON.stringify({\n            \tsurvey: sessionStorage.getItem('surveyId')\n            }),\n            success: function(d){\n\n                listParse(d[0]['result'][0]);\n            }\n        })\n    }\n}());\n\n//listParse(jsons);\n\n$(window).on('beforeunload', clearSession);//退出页面时,清除surveyId\n$('#submit').on('click', submit);//保存事件\n$('#main').on('click', '.tags li', switchProcess);//切换进度\n$('#matrix').on('mouseover', '.frame_background .cell', drawMatrix)//绘制矩阵题\n    .on('click', '.frame_background .cell', createMatrix)\n    .on('mouseout', '.frame_background', cleanDrawMatrix);\n$('#menu').on('click', spreadMenu);//展开目录\n$('#colors').on('change', '.color>input', pickColor);//选择样式颜色\n$('#wrap').on('focus','[contenteditable=true]', clearHolder)//当输入时,不显示placeholder\n    .on('keydown', '.inners', quickSave)\n    .on('click', '.inners', quickEdit);\n$('#left').on('click', '.tag', switchBars)//进度(编辑/设置/分析)\n    //.on('change', '.quickly .msg input', changeChecks)\n    .on('mousedown', '.menu-item>span', contenteditableToggle)//将其转化为可编辑\n    .on('blur', '.menu-item>span', fixQ)//结束编辑并保存\n    .on('keypress', '.menu-item>span', confirmFix)//回车键等价于失焦事件\n    .on('click', '.menu-item>.skip', skipToItem)//点选目录跳转箭头,跳转到对应的题目\n    .on('click', '.progress-control .acquire', renderProgressControl)\n    .on('click', '.quality-control .acquire', renderQualityControl);\n$('#container').on('click', '.invalid', invalidResult);\n\n\n//about createItem.js\n//绑定创建事件\n$('#left').on('click','.button',createQuestion);\n$('#left').on('click','.frame_background .cell',createMatrixQuestion);\n$('#left').on('click', '.msg a',createMessage);\n\n\n// WEBPACK FOOTER //\n// ./unpacked/kolpanel/design.js"],"sourceRoot":""}